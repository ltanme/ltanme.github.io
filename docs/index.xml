<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>LTAN.ME</title>
    <link>https://ltan.me/</link>
    <description>Recent content on LTAN.ME</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 21 Dec 2021 21:53:30 +0800</lastBuildDate><atom:link href="https://ltan.me/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Front End Learning Vue Typescript 1</title>
      <link>https://ltan.me/post/2021/12/front-end-learning-vue-typescript-1/</link>
      <pubDate>Tue, 21 Dec 2021 21:53:30 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/12/front-end-learning-vue-typescript-1/</guid>
      <description>前端学习【vue-typescript-1】 基于模板代码学习编写最前沿技术框架vue-typescript-admin-template , 这里直接省略环境搭建npm node vue 请自行安装, vue 以最新版本为准 vue3.x 首</description>
      <content>&lt;h1 id=&#34;前端学习vue-typescript-1&#34;&gt;前端学习【vue-typescript-1】&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;基于模板代码学习编写最前沿技术框架&lt;code&gt;vue-typescript-admin-template&lt;/code&gt; , 这里直接省略环境搭建npm node vue 请自行安装, vue 以最新版本为准 vue3.x
首先确定一个本次学习目标需求，通过web前端页面把后台的一个接口内容显示输出在页面上即可，实现点击按钮弹窗的效果&lt;/p&gt;
&lt;p&gt;我的后台接口地址是http://www.hell.com/iplocation/ipuu/getInfo?ip=111.44.1.3&lt;/p&gt;
&lt;p&gt;我浏览器访问地址是&lt;code&gt;[hello-world](http://localhost:8080/hell)&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;构建初始化项目&#34;&gt;构建初始化项目&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;vue create hello-world
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;构建路由创建一个新的页面&#34;&gt;构建路由创建一个新的页面&lt;/h3&gt;
&lt;h5 id=&#34;1-在-appvue-文件加入-一个-超链接标签-router-link--可实现html-a标签-href跳转功能&#34;&gt;1. 在 App.vue 文件加入 一个 超链接标签 &lt;code&gt;router-link&lt;/code&gt;  可实现html a标签 href跳转功能&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt; &amp;lt;router-link to=&amp;quot;/hell&amp;quot;&amp;gt;hell&amp;lt;/router-link&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;2-在router目录下indexts文件里增加如下代码处理hell-路由的指向文件&#34;&gt;2. 在router目录下index.ts文件里增加如下代码，处理/hell 路由的指向文件&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-typescript&#34; data-lang=&#34;typescript&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;routes&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;Array&lt;/span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;RouteConfig&lt;/span&gt;&amp;gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [
    &lt;span style=&#34;color:#75715e&#34;&gt;//原有的路由保持不动，增加以下/hell路由指向处理
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt; { 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;path&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/hell&amp;#39;&lt;/span&gt;, 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;hell&amp;#39;&lt;/span&gt;, 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;component&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;()&lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;../views/hell.vue&amp;#39;&lt;/span&gt;) 
 } 
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;3-在utils目录下新增requestts文件&#34;&gt;3. 在utils目录下新增&lt;code&gt;request.ts&lt;/code&gt;文件&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-typescript&#34; data-lang=&#34;typescript&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;axios&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;axios&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; { &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt; } &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;chai&amp;#39;&lt;/span&gt;

&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;service&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;axios&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;create&lt;/span&gt;({
  &lt;span style=&#34;color:#a6e22e&#34;&gt;baseURL&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/api&amp;#34;&lt;/span&gt;, 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;timeout&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;5000&lt;/span&gt;
})

&lt;span style=&#34;color:#a6e22e&#34;&gt;service&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;interceptors&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;request&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;use&lt;/span&gt;(
  (&lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;
  },
  (&lt;span style=&#34;color:#a6e22e&#34;&gt;error&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
    &lt;span style=&#34;color:#a6e22e&#34;&gt;Promise&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;reject&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;error&lt;/span&gt;)
  }
)
 
&lt;span style=&#34;color:#a6e22e&#34;&gt;service&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;interceptors&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;response&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;use&lt;/span&gt;(
  (&lt;span style=&#34;color:#a6e22e&#34;&gt;response&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
    &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;response&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;res&lt;/span&gt;
  },
  (&lt;span style=&#34;color:#a6e22e&#34;&gt;error&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; {
     &lt;span style=&#34;color:#a6e22e&#34;&gt;console&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;log&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;11111111&lt;/span&gt;)
  }
)

&lt;span style=&#34;color:#66d9ef&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;service&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;4-在src目录下创建api目录用于专门api函数与后台交互的api接口处理&#34;&gt;4. 在src目录下创建api目录，用于专门api函数，与后台交互的api接口处理&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-typescript&#34; data-lang=&#34;typescript&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;request&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;@/utils/request&amp;#39;&lt;/span&gt;

&lt;span style=&#34;color:#66d9ef&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getIpInfo&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; () &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; 
&lt;span style=&#34;color:#a6e22e&#34;&gt;request&lt;/span&gt;({
  &lt;span style=&#34;color:#a6e22e&#34;&gt;url&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;iplocation/ipuu/getInfo?ip=111.44.1.3&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#a6e22e&#34;&gt;method&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;get&amp;#39;&lt;/span&gt;
})
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;5-在maints文件加入核心依赖库需要用到el-标签icon库el样式都需要导入以下maints原文件加入注释的都新增代码&#34;&gt;5. 在main.ts文件加入核心依赖库，需要用到el 标签，icon库，el样式都需要导入，以下main.ts原文件加入注释的都新增代码&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-typescript&#34; data-lang=&#34;typescript&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Vue&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;vue&amp;#39;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;//新加入的
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;App&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./App.vue&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ElementUI&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;element-ui&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//新加入的
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;SvgIcon&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;vue-svgicon&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//新加入的
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;element-ui/lib/theme-chalk/index.css&amp;#39;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;//新加入的
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./registerServiceWorker&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;router&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./router&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;store&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./store&amp;#39;&lt;/span&gt;


&lt;span style=&#34;color:#a6e22e&#34;&gt;Vue&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;use&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;ElementUI&lt;/span&gt;, {}) &lt;span style=&#34;color:#75715e&#34;&gt;//新加入的，需要注册到vue,否则控制台报错，不存在该标签
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;Vue&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;productionTip&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;

&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Vue&lt;/span&gt;({
  &lt;span style=&#34;color:#a6e22e&#34;&gt;router&lt;/span&gt;,
  &lt;span style=&#34;color:#a6e22e&#34;&gt;store&lt;/span&gt;,
  &lt;span style=&#34;color:#a6e22e&#34;&gt;render&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;h&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;h&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;App&lt;/span&gt;)
}).&lt;span style=&#34;color:#a6e22e&#34;&gt;$mount&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;#app&amp;#39;&lt;/span&gt;)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;6-在views-目录下创建hellvue-文件&#34;&gt;6. 在views 目录下创建hell.vue 文件&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt; &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;template&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt; 
    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt; this is hell page..........&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;
    &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!--这个aa来自类属性变量--&amp;gt;&lt;/span&gt;
    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;{{aa}}&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;
      &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt; 
          &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;el-button&lt;/span&gt;
              &lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cancel-btn&amp;#34;&lt;/span&gt;
              &lt;span style=&#34;color:#a6e22e&#34;&gt;size&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;small&amp;#34;&lt;/span&gt;
              &lt;span style=&#34;color:#a6e22e&#34;&gt;icon&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;el-icon-refresh&amp;#34;&lt;/span&gt;
              &lt;span style=&#34;color:#a6e22e&#34;&gt;type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;warning&amp;#34;&lt;/span&gt;
              &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;aabbba&amp;#34;&lt;/span&gt;
              &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;click&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;clickfunc(111)&amp;#34;&lt;/span&gt;
            &amp;gt;
                  &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;按钮点击&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;
            &amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;el-button&lt;/span&gt;&amp;gt;
      &amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;template&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lang&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ts&amp;#39;&lt;/span&gt;&amp;gt;
&lt;span style=&#34;color:#75715e&#34;&gt;//导入依赖vue
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; { &lt;span style=&#34;color:#a6e22e&#34;&gt;Component&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;Vue&lt;/span&gt; } &lt;span style=&#34;color:#a6e22e&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;vue-property-decorator&amp;#39;&lt;/span&gt; 
&lt;span style=&#34;color:#75715e&#34;&gt;//导入ip接口文件库
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; { &lt;span style=&#34;color:#a6e22e&#34;&gt;getIpInfo&lt;/span&gt; } &lt;span style=&#34;color:#a6e22e&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;@/api/ip&amp;#39;&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;//必须增加@commponet注解，否则无效created无效
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;@&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Component&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;default&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;extends&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Vue&lt;/span&gt; { 
  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;aa&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; 
  &lt;span style=&#34;color:#75715e&#34;&gt;//继承了vue特性 created 
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;created&lt;/span&gt;(){
      &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;getIpInfo&lt;/span&gt;()
  }
  &lt;span style=&#34;color:#75715e&#34;&gt;//当点击时会调用这个函数
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;clickfunc&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;row&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;any&lt;/span&gt;) {
       &lt;span style=&#34;color:#a6e22e&#34;&gt;alert&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;aa&lt;/span&gt;)
  }
  &lt;span style=&#34;color:#75715e&#34;&gt;//异步调用getipinfo接口
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getIpInfo&lt;/span&gt;(){
       &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; { &lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt; } &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getIpInfo&lt;/span&gt;()
       &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;aa&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;data&lt;/span&gt;
   }
}
&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;script&lt;/span&gt;&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;7-设置项目接口访问解决访问接口在开发环境跨域的问题在vueconfigjs&#34;&gt;7. 设置项目接口访问，解决访问接口在开发环境跨域的问题，在vue.config.js&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;module.exports = {
  devServer: {
    headers: {
      &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;
    },
    proxy: {
      &#39;/api&#39;: {
        ws: true,  //是否启用websockets
        changeOrigin: true,  //开启代理： 在本地会创建一个虚拟服务端，然后发送请求数据，并且同时接收请求数据，这样客户端和服务端进行数据的交互就不会有跨域问题
        target: &#39;http://www.hell.com&#39;,  // 要访问的跨域的域名
        pathRewrite: {
          [&#39;^/api&#39;]: &#39;&#39;
        }
      }
    }
  },
}
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;8-安装依赖依次执行&#34;&gt;8. 安装依赖，依次执行&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;npm install element-ui --save  
npm install axios --save
npm install element-ui --save
&lt;/code&gt;&lt;/pre&gt;&lt;h5 id=&#34;9-运行&#34;&gt;9. 运行&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;# npm run serve

You may use special comments to disable some warnings.    
Use // eslint-disable-next-line to ignore the next line.  
Use /* eslint-disable */ to ignore all warnings in a file.
No type errors found
Version: typescript 4.1.6
Time: 2614ms

  App running at:
  - Local:   http://localhost:8080/
  - Network: http://172.20.148.107:8080/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;最终效果:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20211221223034552.png&#34; alt=&#34;image-20211221223034552&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>How to solve SpringBoot Mysql CLIENT_PLUGIN_AUTH Is Required error</title>
      <link>https://ltan.me/post/2021/12/springboot-mysql-client_plugin_auth-is-required/</link>
      <pubDate>Tue, 07 Dec 2021 09:54:05 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/12/springboot-mysql-client_plugin_auth-is-required/</guid>
      <description>一次上线遇到的问mysql版本使用问题CLIENT_PLUGIN_AUTH 当在项目做好即将上线时，突然发现线上数据库版本太低而报如题错误，导致程序上线启动失败，现有数据库己被很多老的项目在使用着，不可</description>
      <content>&lt;h1 id=&#34;一次上线遇到的问mysql版本使用问题client_plugin_auth&#34;&gt;一次上线遇到的问mysql版本使用问题CLIENT_PLUGIN_AUTH&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;当在项目做好即将上线时，突然发现线上数据库版本太低而报如题错误，导致程序上线启动失败，现有数据库己被很多老的项目在使用着，不可能让dba去更新数据库版本，或另开服务器。&lt;/p&gt;
&lt;p&gt;找了一下原因，是因为使用spring boot 2.x版本，相对比较新，而默认使用的数据库版本为mysql-connect 库 8.x，而需要手动给mysql connect jar包库版本降级，从8.x降到5.1.48&lt;/p&gt;
&lt;p&gt;主要处理方法是&lt;/p&gt;
&lt;p&gt;第一、需要在 父pom.xml 文件里先指定&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;mysql.version&amp;gt;&lt;/span&gt;5.1.48&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/mysql.version&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;第二、修改jdbc使用驱动jar包类&lt;/p&gt;
&lt;p&gt;由&lt;code&gt;com.mysql.cj.jdbc.Driver&lt;/code&gt; 改为 &lt;code&gt;com.mysql.jdbc.Driver&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;链接url&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;jdbc:mysql://172.20.1.2:3406/xxx?useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;useJDBCCompliantTimezoneShift=true&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=Asia/Shanghai&amp;amp;zeroDateTimeBehavior=CONVERT_TO_NULL&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;改为：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;jdbc:mysql://172.20.1.2:3406/xxx?useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;useJDBCCompliantTimezoneShift=true&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=Asia/Shanghai&amp;amp;zeroDateTimeBehavior=convertToNull&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;CONVERT_TO_NULL  &lt;/code&gt;  to  &lt;code&gt;convertToNull&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;大功告成，顺利上线&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Enumeration Class Used in Java</title>
      <link>https://ltan.me/post/2021/10/enumeration-class-used-in-java/</link>
      <pubDate>Thu, 14 Oct 2021 10:45:23 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/10/enumeration-class-used-in-java/</guid>
      <description>枚举类在java中使用方法之一 在后数据中台中，有些数据不需要放在数据库当中，只需要一个枚举类即可，比如web ui select 选择器下拉数据，男，女 这种，还比如省市 下拉数据，而这些数据可以不需要数据库来保存，也不需</description>
      <content>&lt;h1 id=&#34;枚举类在java中使用方法之一&#34;&gt;枚举类在java中使用方法之一&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;在后数据中台中，有些数据不需要放在数据库当中，只需要一个枚举类即可，比如web ui select 选择器下拉数据，&lt;code&gt;男&lt;/code&gt;，&lt;code&gt;女&lt;/code&gt; 这种，还比如&lt;code&gt;省市&lt;/code&gt; 下拉数据，而这些数据可以不需要数据库来保存，也不需要用配置文件来保存，只需要一个枚举类即可，使用方法如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-JAVA&#34; data-lang=&#34;JAVA&#34;&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;enum&lt;/span&gt; AppCmdEnum &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;

   APP_INSTALL&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;1&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;安装命令&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;),&lt;/span&gt;
   APP_UNINSTALL&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;2&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;卸载命令&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;),&lt;/span&gt;
   APP_UPGRADE&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;3&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;升级命令&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;

   Integer code&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
   String name&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;

   &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; KEYS_MAP &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; HashMap&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
   &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; KEYS_MAP_SS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; HashMap&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;

   &lt;span style=&#34;color:#75715e&#34;&gt;//初始化枚举类资源类型数据返回，
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;AppCmdEnum item &lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; AppCmdEnum&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;values&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;())&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
         KEYS_MAP&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;item&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;code&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; item&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
         KEYS_MAP_SS&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;item&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;code&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(),&lt;/span&gt; item&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
      &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

   &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;Integer&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getKeysMap&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; KEYS_MAP&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

   &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; Map&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getKeysMapSS&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; KEYS_MAP_SS&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

   &lt;span style=&#34;color:#75715e&#34;&gt;//增加一个构造函数，丰富描述该枚举类的作用，和功能，字段含义
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;//根据业务需求可以，可以增加很多的属性字段，扩展非常灵活
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;   AppCmdEnum&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Integer code&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String name&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;code&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; code&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; name&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

   &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Integer &lt;span style=&#34;color:#a6e22e&#34;&gt;getCode&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;code&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

   &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;getName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在spring boot项目调用方法&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@GetMapping(&amp;quot;/api_conf&amp;quot;)
public Object apiConf() {
   Map&amp;lt;Integer, String&amp;gt; keysMap = AppCmdEnum.getKeysMap();
   return keysMap;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;该接口返回内容如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
	&amp;quot;1&amp;quot;: &amp;quot;安装命令&amp;quot;,
	&amp;quot;2&amp;quot;: &amp;quot;卸载命令&amp;quot;,
	&amp;quot;3&amp;quot;: &amp;quot;升级命令&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;用到web前端效果&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20211014110500057.png&#34; alt=&#34;image-20211014110500057&#34;&gt;&lt;/p&gt;
&lt;p&gt;在业务代码使用枚举类时，还有中文提示，这个比常量好使很多呢&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20211014110845695.png&#34; alt=&#34;image-20211014110845695&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Mybaits Plus Comes With Paging VS Com.github.pagehelper Paging Plug In</title>
      <link>https://ltan.me/post/2021/09/mybaits-plus-comes-with-paging-vs-com.github.pagehelper-paging-plug-in/</link>
      <pubDate>Mon, 27 Sep 2021 16:49:31 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/09/mybaits-plus-comes-with-paging-vs-com.github.pagehelper-paging-plug-in/</guid>
      <description>mybatis-plus 自带分页 和 com.github.pagehelper工具使用对比 对经常写中台列表数据管理接口的同学来说，需要经常使用到分页插件来提升自己的工作效率，通常我用过最多的两款插件如标题所示，这两款插件在写</description>
      <content>&lt;h1 id=&#34;mybatis-plus-自带分页-和-comgithubpagehelper工具使用对比&#34;&gt;mybatis-plus 自带分页 和 com.github.pagehelper工具使用对比&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;对经常写中台列表数据管理接口的同学来说，需要经常使用到分页插件来提升自己的工作效率，通常我用过最多的两款插件如标题所示，这两款插件在写文章之前，我一直搞不清，浮躁，混为一谈，需要总结整理&lt;/p&gt;
&lt;p&gt;今抽空花些时间来比较一下他们在返回&lt;code&gt;response body&lt;/code&gt; 时内容, 观察到&lt;code&gt;pagehelper&lt;/code&gt;不愧是术业有专攻啊，个人认为&lt;code&gt;pagehelper&lt;/code&gt; 作为专业分页插件不得不说，其功能特点比&lt;code&gt;mybatis-plus&lt;/code&gt; 完善多了，考虑到人性化，由期在前后端对接方面，大大提升了效率，少写很多代码，不过有时还是看需求场景，对于不需要web端展示的，我推荐&lt;code&gt;mybatis-plus 自带的page分页&lt;/code&gt; ,它相比&lt;code&gt;pagehelper&lt;/code&gt;插件提供的能力还是比较简单，比如没有提供&lt;code&gt;页码位置&lt;/code&gt;，&lt;code&gt;前一页&lt;/code&gt;，&lt;code&gt;后一页&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;mybatis-plus-page&#34;&gt;mybatis-plus page&lt;/h2&gt;
&lt;p&gt;以下为mybatis-plus 分页插件在返回data数据 结构如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;records&amp;#34;&lt;/span&gt;: [
           &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;.....&lt;/span&gt;		
        ],
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;total&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;current&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;orders&amp;#34;&lt;/span&gt;: [],
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;searchCount&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;pages&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;代码使用：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;   &lt;span style=&#34;color:#a6e22e&#34;&gt;@GetMapping&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/list&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
   &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Object &lt;span style=&#34;color:#a6e22e&#34;&gt;pageList&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@RequestParam&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;defaultValue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Integer pageNum&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
                          &lt;span style=&#34;color:#a6e22e&#34;&gt;@RequestParam&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;defaultValue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;10&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; Integer pageSize&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	  QueryWrapper&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;xxModel&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; queryWrapper &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; QueryWrapper&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
      Page&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;xxModel&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; page &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Page&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;pageNum&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; pageSize&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt; 
      IPage&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;xxModel&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; list &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; xxService&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;page&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;page&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; queryWrapper&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; list
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;pagehelper&#34;&gt;pagehelper&lt;/h2&gt;
&lt;p&gt;以下为pagehelper 的返回data数据，结构如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;total&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;list&amp;#34;&lt;/span&gt;: [
            &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;.....&lt;/span&gt;
        ],
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;pageNum&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;pageSize&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;startRow&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;endRow&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;pages&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;prePage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;nextPage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;isFirstPage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;isLastPage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;hasPreviousPage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;hasNextPage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;navigatePages&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;navigatepageNums&amp;#34;&lt;/span&gt;: [],
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;navigateFirstPage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;navigateLastPage&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;web前端对接时看到有 prePage，nextPage 实现太香，不要不要的&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210927173234110.png&#34; alt=&#34;image-20210927173234110&#34;&gt;&lt;/p&gt;
&lt;p&gt;代码使用：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; @GetMapping(&amp;quot;/list&amp;quot;)
   public Object pageList(@RequestParam(defaultValue = &amp;quot;1&amp;quot;) Integer pageNum,
                          @RequestParam(defaultValue = &amp;quot;10&amp;quot;) Integer pageSize) {
      QueryWrapper&amp;lt;xxModel&amp;gt; queryWrapper = new QueryWrapper&amp;lt;&amp;gt;();
      PageHelper.startPage(pageNum, pageSize); 
	  List&amp;lt;xxModel&amp;gt; list = xxService.list(queryWrapper);
      return new PageInfo&amp;lt;&amp;gt;(list)
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;最后总结：&lt;/p&gt;
&lt;p&gt;​     推荐大家按需求选自己最合适的分页插件，当然两者可以整合一起使用。有冲突的话则排除冲突，用 mybatis-plus 则重点在mybatis &lt;code&gt;dao&lt;/code&gt;,&lt;code&gt;service&lt;/code&gt;,&lt;code&gt;mapper&lt;/code&gt; ，常见sql可以不写xml,不写service，除非特别的连表查询sql语句，而&lt;code&gt;pagehelper&lt;/code&gt; 则重点在于分页，分页功能强大无敌，对于需要web前端分页的小伙伴，它可以帮你节省不少时间，另外对我当前使用的mybatis-plus 在默认的情况下，&lt;code&gt;mybatis-plus total 为0的问题&lt;/code&gt;， 为了解决total字段为0的问题，百度,google搜索一大把关于它的文章，解决方法。还有个坑就是&lt;code&gt;mybatis-plus的分页，单页查询默认为500条限制&lt;/code&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Date and LocalDatetime in Java 8</title>
      <link>https://ltan.me/post/2021/09/date-and-localdatetime-in-java-8/</link>
      <pubDate>Sun, 26 Sep 2021 21:08:19 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/09/date-and-localdatetime-in-java-8/</guid>
      <description>Java 8中的 Date和LocalDateTime类在工作中遇到的问题 java 8 中的 LocalDateTime 比 date 速度快很多，而且在处理时间方法比较灵活，在日期计算方面，日期比较简单易用，而Date 要繁琐很多 我在工作中遇到一个实体类创建</description>
      <content>&lt;h1 id=&#34;java-8中的-date和localdatetime类在工作中遇到的问题&#34;&gt;Java 8中的 Date和LocalDateTime类在工作中遇到的问题&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;java 8 中的 LocalDateTime  比 date 速度快很多，而且在处理时间方法比较灵活，在日期计算方面，日期比较简单易用，而Date 要繁琐很多&lt;/p&gt;
&lt;p&gt;我在工作中遇到一个实体类&lt;code&gt;创建时间&lt;/code&gt;字段原来为Date类型， 在ｍｙｂａｔｉｓ　时间创建数据库记录时，需要用到自动填充当前时间为创建时间，&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@TableField&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; FieldFill&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;INSERT_UPDATE&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; Date lastUpdateTime&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;发现报错如下具体原因是因为&lt;code&gt;Date&lt;/code&gt;在转换 &lt;code&gt;LocalDateTime.now()&lt;/code&gt;出问题了，报错误不匹配&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{

  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2021-09-26T13:17:55.034+0000&amp;#34;&lt;/span&gt;,

  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;status&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt;,

  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;error&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Internal Server Error&amp;#34;&lt;/span&gt;,

  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nested exception is org.apache.ibatis.reflection.ReflectionException: Could not set property &amp;#39;createTime&amp;#39; of &amp;#39;class com.coocaa.device.control.api.model.Command&amp;#39; with value &amp;#39;2021-09-26T21:17:54.966&amp;#39; Cause: java.lang.IllegalArgumentException: argument type mismatch&amp;#34;&lt;/span&gt;,

  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;path&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/comm/add&amp;#34;&lt;/span&gt;

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;是我用了mybatis自动填充, 也就是自动转换，但类型不一样，所以导致错误&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;MybatisObjectHandler&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;implements&lt;/span&gt; MetaObjectHandler &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;insertFill&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;MetaObject metaObject&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        setFieldValByName&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;createTime&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; LocalDateTime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;now&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(),&lt;/span&gt; metaObject&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
        setFieldValByName&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;updateTime&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; LocalDateTime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;now&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(),&lt;/span&gt; metaObject&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

    &lt;span style=&#34;color:#a6e22e&#34;&gt;@Override&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;updateFill&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;MetaObject metaObject&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        &lt;span style=&#34;color:#75715e&#34;&gt;//更新时 需要填充字段
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        setFieldValByName&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;updateTime&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; LocalDateTime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;now&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(),&lt;/span&gt; metaObject&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;解决方法为，把原来自动用mybatis gen tool 生成的实体类类型字段，手动改成LocalDateTime 即可,如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@TableField&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; FieldFill&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;INSERT_UPDATE&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; LocalDateTime lastUpdateTime&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
    </item>
    
    <item>
      <title>Multi Module Project Generation Mybatis Tool by Intellij IDEA</title>
      <link>https://ltan.me/post/2021/09/multi-module-project-generation-mybatis-tool-by-intellij-idea/</link>
      <pubDate>Sun, 26 Sep 2021 11:14:37 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/09/multi-module-project-generation-mybatis-tool-by-intellij-idea/</guid>
      <description>在intellij idea 中用mybatis generate tool 插件快速生成mybatis dao,model,mapper等文件 用idea 打开一个多模块的项目, 配置database mysql 设置并连接上 打开schemas 选择一个表</description>
      <content>&lt;h1 id=&#34;在intellij-idea-中用mybatis-generate-tool-插件快速生成mybatis-daomodelmapper等文件&#34;&gt;在intellij idea 中用mybatis generate tool 插件快速生成mybatis dao,model,mapper等文件&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;用idea 打开一个多模块的项目, 配置database mysql 设置并连接上&lt;/p&gt;
&lt;p&gt;打开schemas 选择一个表，右建选择mybatis-generator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210926112036871.png&#34; alt=&#34;image-20210926112036871&#34;&gt;&lt;/p&gt;
&lt;p&gt;在弹出窗口，注意选择,以下红框中请设置好。很重要，否则生成路径不对。免得移动文件，干脆一次到位生成到对应的目录下面&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210926112146002.png&#34; alt=&#34;image-20210926112146002&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;插件名字如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210926112625009.png&#34; alt=&#34;image-20210926112625009&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Activemq Artemis Learning 3</title>
      <link>https://ltan.me/post/2021/09/activemq-artemis-learning-3/</link>
      <pubDate>Sat, 04 Sep 2021 17:16:44 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/09/activemq-artemis-learning-3/</guid>
      <description>验证activemq Artemis 源代码完整性 工作项目可能需要使用activemq artemis ，将使用在生产环境上部署，为了方便后面二次开发的需求可能，对其进行源代码完整性验证，主要工作是，把最新源代码下载到本地进行源码编</description>
      <content>&lt;h1 id=&#34;验证activemq-artemis-源代码完整性&#34;&gt;验证activemq Artemis 源代码完整性&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;工作项目可能需要使用activemq artemis ，将使用在生产环境上部署，为了方便后面二次开发的需求可能，对其进行源代码完整性验证，主要工作是，把最新源代码下载到本地进行源码编译，一开始使用的windows死活编译不成功，报com.sum.sw jar 包错误。&lt;/p&gt;
&lt;p&gt;然后还有一些jar 包无法下载，即使你换了国内的maven 阿里镜像也无法下载, 需要有一个彻底扶墙的网络环境才有可能全部编译通过。然后我在windows折腾几天没有成功，就是反复执行 mvn -Prealse install  命令，安装编译测试等环境，错误一大堆。项目复杂，庞大，不得不说apache 开源的项目，还是很强，功能很完善。这个项目目录结构也是十分复杂的。为了达 到目的，需要时间折腾的，后来我换了苹果电脑上面，也开起了扶墙网络模式。经过几次的人工重复执行  mvn -Prealse install  最终才编译成功的&lt;/p&gt;
&lt;p&gt;这里说一下为什么需要重复，反复执行mvn -Prealse install ,因为项目的依赖都来自不同的网络，其主要的需要从maven 全球中央仓库下载，有时会因为网络掉线，访问服务器节点超时引起的编译程序中断导致，所以重复执行mvn 打包命令。是可以理解的&lt;/p&gt;
&lt;p&gt;说到这里有人可能会问，为什么不用&lt;code&gt;github&lt;/code&gt; 自带的&lt;code&gt;workflow &lt;/code&gt;编译，因为那是国外环境，&lt;/p&gt;
&lt;p&gt;当然没有墙的问题，在本地编译主要目的还是为了检验源代码完整性以及 后面二次开发扩展打基础。&lt;/p&gt;
&lt;p&gt;以下是我编译的最后几部过程的全结果。  最后项目编译共花了&lt;code&gt;43分钟&lt;/code&gt; 包含测试用例，第一次成功编译后，后面编译就会有&lt;code&gt;cache&lt;/code&gt;, 顺利多了，编译后最终的程序打包是在 &lt;code&gt;artemis-distribution&lt;/code&gt; 模块下面&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;mvn -Prelease install

[INFO] --------&amp;lt; org.apache.activemq.examples.stomp:stomp-websockets &amp;gt;---------

[INFO] Building ActiveMQ Artemis JMS StompWebSocketExample Example 2.18.0 [208/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ stomp-websockets ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ stomp-websockets ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ stomp-websockets ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ stomp-websockets ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ stomp-websockets ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] Copying 1 resource

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ stomp-websockets ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ stomp-websockets ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ stomp-websockets ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 7 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 7 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ stomp-websockets ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ stomp-websockets ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ stomp-websockets ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ stomp-websockets ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/target/stomp-websockets-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ stomp-websockets ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ stomp-websockets ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/target/stomp-websockets-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ stomp-websockets ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ stomp-websockets ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ stomp-websockets ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ stomp-websockets ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ stomp-websockets ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ stomp-websockets ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/target/stomp-websockets-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-websockets/2.18.0/stomp-websockets-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-websockets/2.18.0/stomp-websockets-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-websockets/target/stomp-websockets-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-websockets/2.18.0/stomp-websockets-2.18.0-sources.jar

[INFO]

[INFO] ---&amp;lt; org.apache.activemq.examples.stomp:stomp-embedded-interceptor &amp;gt;----

[INFO] Building ActiveMQ Artemis JMS Stomp Embedded Interceptor Example 2.18.0 [209/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ stomp-embedded-interceptor ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ stomp-embedded-interceptor ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ stomp-embedded-interceptor ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ stomp-embedded-interceptor ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ stomp-embedded-interceptor ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] Copying 1 resource

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ stomp-embedded-interceptor ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 3 source files to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ stomp-embedded-interceptor ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ stomp-embedded-interceptor ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 5 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 5 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ stomp-embedded-interceptor ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ stomp-embedded-interceptor ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ stomp-embedded-interceptor ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ stomp-embedded-interceptor ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/target/stomp-embedded-interceptor-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ stomp-embedded-interceptor ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ stomp-embedded-interceptor ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/target/stomp-embedded-interceptor-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ stomp-embedded-interceptor ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ stomp-embedded-interceptor ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ stomp-embedded-interceptor ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ stomp-embedded-interceptor ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ stomp-embedded-interceptor ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ stomp-embedded-interceptor ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/target/stomp-embedded-interceptor-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-embedded-interceptor/2.18.0/stomp-embedded-interceptor-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-embedded-interceptor/2.18.0/stomp-embedded-interceptor-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-embedded-interceptor/target/stomp-embedded-interceptor-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-embedded-interceptor/2.18.0/stomp-embedded-interceptor-2.18.0-sources.jar

[INFO]

[INFO] ------------&amp;lt; org.apache.activemq.examples.stomp:stomp1.1 &amp;gt;-------------

[INFO] Building ActiveMQ Artemis Stomp 1.1 Example 2.18.0       [210/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ stomp1.1 ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ stomp1.1 ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ stomp1.1 ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ stomp1.1 ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ stomp1.1 ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] Copying 1 resource

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ stomp1.1 ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ stomp1.1 ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ stomp1.1 ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 3 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 3 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ stomp1.1 ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ stomp1.1 ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ stomp1.1 ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ stomp1.1 ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/target/stomp1.1-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ stomp1.1 ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ stomp1.1 ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/target/stomp1.1-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ stomp1.1 ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ stomp1.1 ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ stomp1.1 ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ stomp1.1 ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ stomp1.1 ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ stomp1.1 ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/target/stomp1.1-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp1.1/2.18.0/stomp1.1-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp1.1/2.18.0/stomp1.1-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.1/target/stomp1.1-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp1.1/2.18.0/stomp1.1-2.18.0-sources.jar

[INFO]

[INFO] ------------&amp;lt; org.apache.activemq.examples.stomp:stomp1.2 &amp;gt;-------------

[INFO] Building ActiveMQ Artemis Stomp 1.2 Example 2.18.0       [211/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ stomp1.2 ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ stomp1.2 ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ stomp1.2 ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ stomp1.2 ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ stomp1.2 ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] Copying 1 resource

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ stomp1.2 ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ stomp1.2 ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ stomp1.2 ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 3 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 3 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ stomp1.2 ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ stomp1.2 ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ stomp1.2 ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ stomp1.2 ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/target/stomp1.2-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ stomp1.2 ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ stomp1.2 ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/target/stomp1.2-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ stomp1.2 ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ stomp1.2 ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ stomp1.2 ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ stomp1.2 ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ stomp1.2 ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ stomp1.2 ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/target/stomp1.2-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp1.2/2.18.0/stomp1.2-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp1.2/2.18.0/stomp1.2-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp1.2/target/stomp1.2-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp1.2/2.18.0/stomp1.2-2.18.0-sources.jar

[INFO]

[INFO] ------------&amp;lt; org.apache.activemq.examples.stomp:stomp-jms &amp;gt;------------

[INFO] Building ActiveMQ Artemis Stomp JMS Example 2.18.0       [212/218]

[INFO] --------------------------------[ jar ]---------------------------------

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/stompjms/stompjms-client/1.19/stompjms-client-1.19.pom

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/stompjms/stompjms-client/1.19/stompjms-client-1.19.pom

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/stompjms/stompjms-client/1.19/stompjms-client-1.19.pom (5.8 kB at 3.6 kB/s)

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/stompjms/stompjms-project/1.19/stompjms-project-1.19.pom

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/stompjms/stompjms-project/1.19/stompjms-project-1.19.pom

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/stompjms/stompjms-project/1.19/stompjms-project-1.19.pom (9.2 kB at 13 kB/s)

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/hawtdispatch/hawtdispatch-transport/1.20/hawtdispatch-transport-1.20.pom

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch-transport/1.20/hawtdispatch-transport-1.20.pom

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch-transport/1.20/hawtdispatch-transport-1.20.pom (2.8 kB at 4.4 kB/s)

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/hawtdispatch/hawtdispatch-project/1.20/hawtdispatch-project-1.20.pom

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch-project/1.20/hawtdispatch-project-1.20.pom

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch-project/1.20/hawtdispatch-project-1.20.pom (13 kB at 14 kB/s)

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/hawtdispatch/hawtdispatch/1.20/hawtdispatch-1.20.pom

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch/1.20/hawtdispatch-1.20.pom

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch/1.20/hawtdispatch-1.20.pom (3.0 kB at 4.2 kB/s)

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/stompjms/stompjms-client/1.19/stompjms-client-1.19.jar

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/hawtdispatch/hawtdispatch-transport/1.20/hawtdispatch-transport-1.20.jar

Downloading from apache.snapshots: https://repository.apache.org/content/repositories/snapshots/org/fusesource/hawtdispatch/hawtdispatch/1.20/hawtdispatch-1.20.jar

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/stompjms/stompjms-client/1.19/stompjms-client-1.19.jar

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch-transport/1.20/hawtdispatch-transport-1.20.jar

Downloading from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch/1.20/hawtdispatch-1.20.jar

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch/1.20/hawtdispatch-1.20.jar (119 kB at 63 kB/s)

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/hawtdispatch/hawtdispatch-transport/1.20/hawtdispatch-transport-1.20.jar (128 kB at 61 kB/s)

Downloaded from central: https://repo.maven.apache.org/maven2/org/fusesource/stompjms/stompjms-client/1.19/stompjms-client-1.19.jar (213 kB at 55 kB/s)

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ stomp-jms ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ stomp-jms ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ stomp-jms ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ stomp-jms ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ stomp-jms ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] Copying 1 resource

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ stomp-jms ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ stomp-jms ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ stomp-jms ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 3 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 3 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ stomp-jms ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ stomp-jms ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ stomp-jms ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ stomp-jms ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/target/stomp-jms-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ stomp-jms ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ stomp-jms ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/target/stomp-jms-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ stomp-jms ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ stomp-jms ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ stomp-jms ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ stomp-jms ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ stomp-jms ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ stomp-jms ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/target/stomp-jms-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-jms/2.18.0/stomp-jms-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-jms/2.18.0/stomp-jms-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/stomp/stomp-jms/target/stomp-jms-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/stomp/stomp-jms/2.18.0/stomp-jms-2.18.0-sources.jar

[INFO]

[INFO] ------&amp;lt; org.apache.activemq.examples.openwire:openwire-examples &amp;gt;-------

[INFO] Building ActiveMQ Artemis Openwire Examples 2.18.0       [213/218]

[INFO] --------------------------------[ pom ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ openwire-examples ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ openwire-examples ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ openwire-examples ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ openwire-examples ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ openwire-examples ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ openwire-examples ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 67 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 1 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 1 licenses.

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ openwire-examples ---

[INFO] No site descriptor found: nothing to attach.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ openwire-examples ---

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ openwire-examples ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ openwire-examples ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/openwire-examples/2.18.0/openwire-examples-2.18.0.pom

[INFO]

[INFO] ---------&amp;lt; org.apache.activemq.examples.openwire:chat-example &amp;gt;---------

[INFO] Building ActiveMQ Artemis Openwire chat Example 2.18.0     [214/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ chat-example ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ chat-example ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ chat-example ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ chat-example ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ chat-example ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] Copying 2 resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ chat-example ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 2 source files to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ chat-example ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ chat-example ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 5 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 5 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ chat-example ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ chat-example ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ chat-example ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ chat-example ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/target/chat-example-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ chat-example ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ chat-example ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/target/chat-example-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ chat-example ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ chat-example ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/target/chat-example-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/chat-example/2.18.0/chat-example-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/chat-example/2.18.0/chat-example-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/chat/target/chat-example-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/chat-example/2.18.0/chat-example-2.18.0-sources.jar

[INFO]

[INFO] --------&amp;lt; org.apache.activemq.examples.openwire:queue-openwire &amp;gt;--------

[INFO] Building ActiveMQ Artemis OpenWire JMS Queue Example 2.18.0  [215/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ queue-openwire ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ queue-openwire ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ queue-openwire ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ queue-openwire ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ queue-openwire ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/src/main/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ queue-openwire ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ queue-openwire ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ queue-openwire ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 2 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 2 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ queue-openwire ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ queue-openwire ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ queue-openwire ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ queue-openwire ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/target/queue-openwire-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ queue-openwire ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ queue-openwire ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/target/queue-openwire-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ queue-openwire ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ queue-openwire ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ queue-openwire ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ queue-openwire ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ queue-openwire ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ queue-openwire ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/target/queue-openwire-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/queue-openwire/2.18.0/queue-openwire-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/queue-openwire/2.18.0/queue-openwire-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/queue/target/queue-openwire-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/queue-openwire/2.18.0/queue-openwire-2.18.0-sources.jar

[INFO]

[INFO] -------&amp;lt; org.apache.activemq.examples.openwire:message-listener &amp;gt;-------

[INFO] Building ActiveMQ Artemis OpenWire JMS Message Listener Example 2.18.0 [216/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ message-listener ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ message-listener ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ message-listener ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ message-listener ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ message-listener ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/src/main/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ message-listener ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ message-listener ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ message-listener ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 2 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 2 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ message-listener ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ message-listener ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ message-listener ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ message-listener ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/target/message-listener-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ message-listener ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ message-listener ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/target/message-listener-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ message-listener ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ message-listener ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ message-listener ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ message-listener ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ message-listener ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ message-listener ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/target/message-listener-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/message-listener/2.18.0/message-listener-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/message-listener/2.18.0/message-listener-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-listener/target/message-listener-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/message-listener/2.18.0/message-listener-2.18.0-sources.jar

[INFO]

[INFO] -------&amp;lt; org.apache.activemq.examples.openwire:message-recovery &amp;gt;-------

[INFO] Building ActiveMQ Artemis OpenWire JMS Message Recovery Example 2.18.0 [217/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ message-recovery ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ message-recovery ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ message-recovery ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ message-recovery ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ message-recovery ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/src/main/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ message-recovery ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ message-recovery ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ message-recovery ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 2 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 2 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ message-recovery ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ message-recovery ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ message-recovery ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ message-recovery ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/target/message-recovery-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ message-recovery ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ message-recovery ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/target/message-recovery-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ message-recovery ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ message-recovery ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ message-recovery ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ message-recovery ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/target/message-recovery-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/message-recovery/2.18.0/message-recovery-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/message-recovery/2.18.0/message-recovery-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/message-recovery/target/message-recovery-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/message-recovery/2.18.0/message-recovery-2.18.0-sources.jar

[INFO]

[INFO] ----&amp;lt; org.apache.activemq.examples.openwire:virtual-topic-mapping &amp;gt;-----

[INFO] Building ActiveMQ Artemis OpenWire Virtual Topic Mapping Example 2.18.0 [218/218]

[INFO] --------------------------------[ jar ]---------------------------------

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-maven-version) @ virtual-topic-mapping ---

[INFO]

[INFO] --- maven-enforcer-plugin:3.0.0-M3:enforce (enforce-java-version) @ virtual-topic-mapping ---

[INFO]

[INFO] --- maven-dependency-plugin:3.1.1:unpack (copy) @ virtual-topic-mapping ---

[INFO] Configured Artifact: org.apache.activemq:activemq-artemis-native:1.0.2:jar

[INFO] Unpacking /Users/winfan/.m2/repository/org/apache/activemq/activemq-artemis-native/1.0.2/activemq-artemis-native-1.0.2.jar to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/target/bin with includes &amp;quot;**/*.so&amp;quot; and excludes &amp;quot;&amp;quot;

[INFO]

[INFO] --- maven-remote-resources-plugin:1.7.0:process (process-resource-bundles) @ virtual-topic-mapping ---

[INFO] Preparing remote bundle org.apache:apache-jar-resource-bundle:1.4

[INFO] Copying 3 resources from 1 bundle.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ virtual-topic-mapping ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] Copying 1 resource

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ virtual-topic-mapping ---

[INFO] Changes detected - recompiling the module!

[INFO] Compiling 1 source file to /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/target/classes

[INFO]

[INFO] --- maven-checkstyle-plugin:3.1.1:check (default) @ virtual-topic-mapping ---

[INFO] 开始检查……

检查完成。

[INFO] You have 0 Checkstyle violations.

[INFO]

[INFO] --- apache-rat-plugin:0.13:check (default) @ virtual-topic-mapping ---

[INFO] Enabled default license matchers.

[INFO] Will parse SCM ignores for exclusions...

[INFO] Finished adding exclusions from SCM ignore files.

[INFO] 62 implicit excludes (use -debug for more details).

[INFO] 53 explicit excludes (use -debug for more details).

[INFO] 3 resources included (use -debug for more details)

[INFO] Rat check: Summary over all files. Unapproved: 0, unknown: 0, generated: 0, approved: 3 licenses.

[INFO]

[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ virtual-topic-mapping ---

[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/src/test/resources

[INFO] Copying 3 resources

[INFO]

[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ virtual-topic-mapping ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.22.2:test (default-test) @ virtual-topic-mapping ---

[INFO]

[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ virtual-topic-mapping ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/target/virtual-topic-mapping-2.18.0.jar

[INFO]

[INFO] --- maven-site-plugin:3.7.1:attach-descriptor (attach-descriptor) @ virtual-topic-mapping ---

[INFO] Skipping because packaging &#39;jar&#39; is not pom.

[INFO]

[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ virtual-topic-mapping ---

[INFO] Building jar: /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/target/virtual-topic-mapping-2.18.0-sources.jar

[INFO]

[INFO] --- dependency-check-maven:6.1.0:check (default) @ virtual-topic-mapping ---

[INFO] Skipping dependency-check

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:create (create) @ virtual-topic-mapping ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (start) @ virtual-topic-mapping ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:runClient (runClient) @ virtual-topic-mapping ---

[INFO]

[INFO] --- artemis-maven-plugin:2.18.0:cli (stop) @ virtual-topic-mapping ---

[INFO]

[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ virtual-topic-mapping ---

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/target/virtual-topic-mapping-2.18.0.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/virtual-topic-mapping/2.18.0/virtual-topic-mapping-2.18.0.jar

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/pom.xml to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/virtual-topic-mapping/2.18.0/virtual-topic-mapping-2.18.0.pom

[INFO] Installing /Users/winfan/Downloads/activemq-artemis-2.18.0/examples/protocols/openwire/virtual-topic-mapping/target/virtual-topic-mapping-2.18.0-sources.jar to /Users/winfan/.m2/repository/org/apache/activemq/examples/openwire/virtual-topic-mapping/2.18.0/virtual-topic-mapping-2.18.0-sources.jar

[INFO] ------------------------------------------------------------------------

[INFO] Reactor Summary for ActiveMQ Artemis Parent 2.18.0:

[INFO]

[INFO] ActiveMQ Artemis Parent ............................ SUCCESS [ 8.980 s]

[INFO] ActiveMQ Artemis Commons ........................... SUCCESS [ 27.987 s]

[INFO] ActiveMQ Artemis Selector Implementation ........... SUCCESS [ 3.429 s]

[INFO] ActiveMQ Artemis Core Client ....................... SUCCESS [ 26.113 s]

[INFO] ActiveMQ Artemis Journal ........................... SUCCESS [ 3.254 s]

[INFO] ActiveMQ Artemis JDBC Store ........................ SUCCESS [ 7.538 s]

[INFO] ActiveMQ Artemis Quorum API ........................ SUCCESS [ 2.155 s]

[INFO] ActiveMQ Artemis Server ............................ SUCCESS [01:39 min]

[INFO] ActiveMQ Artemis Protocols ......................... SUCCESS [ 0.389 s]

[INFO] ActiveMQ Artemis AMQP Protocol ..................... SUCCESS [ 16.466 s]

[INFO] ActiveMQ Artemis STOMP Protocol .................... SUCCESS [ 1.649 s]

[INFO] ActiveMQ Artemis JMS Client ........................ SUCCESS [ 12.374 s]

[INFO] ActiveMQ Artemis OpenWire Protocol ................. SUCCESS [ 9.264 s]

[INFO] ActiveMQ Artemis HQClient Protocol ................. SUCCESS [ 0.929 s]

[INFO] ActiveMQ Artemis HornetQ Protocol .................. SUCCESS [ 3.132 s]

[INFO] ActiveMQ Artemis Service Extensions ................ SUCCESS [ 2.014 s]

[INFO] ActiveMQ Artemis JMS Server ........................ SUCCESS [ 5.347 s]

[INFO] ActiveMQ Artemis JUnit Rules ....................... SUCCESS [ 8.187 s]

[INFO] ActiveMQ Artemis MQTT Protocol ..................... SUCCESS [ 5.973 s]

[INFO] ActiveMQ Artemis DTO ............................... SUCCESS [ 2.958 s]

[INFO] ActiveMQ Artemis CDI Integration ................... SUCCESS [ 6.244 s]

[INFO] ActiveMQ Artemis Boot .............................. SUCCESS [ 0.373 s]

[INFO] ActiveMQ Artemis CLI ............................... SUCCESS [03:26 min]

[INFO] ActiveMQ Artemis Web ............................... SUCCESS [ 13.370 s]

[INFO] ActiveMQ Artemis Web ............................... SUCCESS [ 59.245 s]

[INFO] ActiveMQ Artemis Core Client All ................... SUCCESS [ 16.509 s]

[INFO] ActiveMQ Artemis Client OSGi ....................... SUCCESS [ 1.389 s]

[INFO] ActiveMQ Artemis JMS Client All .................... SUCCESS [ 10.803 s]

[INFO] ActiveMQ Artemis JMS Client OSGi ................... SUCCESS [ 1.246 s]

[INFO] ActiveMQ Artemis Jakarta Messaging Client .......... SUCCESS [ 1.204 s]

[INFO] ActiveMQ Artemis Jakarta Messaging Server .......... SUCCESS [ 0.473 s]

[INFO] ActiveMQ Artemis RAR POM ........................... SUCCESS [ 1.180 s]

[INFO] ActiveMQ Artemis Jakarta RAR ....................... SUCCESS [ 0.403 s]

[INFO] ActiveMQ Artemis REST Interface Implementation ..... SUCCESS [ 2.762 s]

[INFO] ActiveMQ Artemis Jakarta Service Extensions ........ SUCCESS [ 0.346 s]

[INFO] ActiveMQ Artemis Maven Plugin ...................... SUCCESS [ 3.549 s]

[INFO] ActiveMQ Artemis Server OSGi ....................... SUCCESS [ 3.825 s]

[INFO] ActiveMQ Artemis Cons .............................. SUCCESS [ 0.352 s]

[INFO] ActiveMQ Artemis HawtIO Branding ................... SUCCESS [ 4.740 s]

[INFO] ActiveMQ Artemis HawtIO Plugin ..................... SUCCESS [ 0.928 s]

[INFO] ActiveMQ Artemis Console ........................... SUCCESS [ 1.859 s]

[INFO] ActiveMQ Artemis Spring Integration ................ SUCCESS [ 0.671 s]

[INFO] ActiveMQ Artemis Quorum RI ......................... SUCCESS [02:53 min]

[INFO] Apache ActiveMQ Artemis Distribution ............... SUCCESS [ 29.024 s]

[INFO] ActiveMQ Artemis Tests POM ......................... SUCCESS [ 0.897 s]

[INFO] ActiveMQ Artemis Test Support ...................... SUCCESS [ 1.203 s]

[INFO] ActiveMQ Artemis Unit Tests ........................ SUCCESS [ 2.543 s]

[INFO] ActiveMQ Artemis Joram Tests ....................... SUCCESS [ 1.388 s]

[INFO] ActiveMQ Artemis timing Tests ...................... SUCCESS [ 0.903 s]

[INFO] ActiveMQ Artemis JMS Tests ......................... SUCCESS [ 1.897 s]

[INFO] ActiveMQ Artemis Features .......................... SUCCESS [ 25.476 s]

[INFO] ActiveMQ Artemis Integration Tests ................. SUCCESS [ 31.125 s]

[INFO] ActiveMQ Artemis Karaf Client Integration Tests .... SUCCESS [ 0.926 s]

[INFO] ActiveMQ Artemis Compatibility Tests ............... SUCCESS [ 7.362 s]

[INFO] ActiveMQ Artemis soak Tests ........................ SUCCESS [ 1.330 s]

[INFO] ActiveMQ Artemis stress Tests ...................... SUCCESS [ 1.033 s]

[INFO] ActiveMQ Artemis performance Tests ................. SUCCESS [ 0.802 s]

[INFO] Smoke Tests ........................................ SUCCESS [ 42.821 s]

[INFO] ActiveMQ5.x unit tests ............................. SUCCESS [09:29 min]

[INFO] ActiveMQ Artemis Examples .......................... SUCCESS [ 3.496 s]

[INFO] ActiveMQ Artemis Features Examples ................. SUCCESS [ 0.607 s]

[INFO] ActiveMQ Artemis Clustered Examples ................ SUCCESS [ 0.284 s]

[INFO] ActiveMQ Artemis JMS Client Side Load Balancing Example SUCCESS [ 1.918 s]

[INFO] ActiveMQ Artemis JMS Clustered Durable Subscription Example SUCCESS [ 0.849 s]

[INFO] ActiveMQ Artemis JMS Clustered Grouping Example .... SUCCESS [ 0.827 s]

[INFO] ActiveMQ Artemis JMS Clustered JGroups Example ..... SUCCESS [ 0.916 s]

[INFO] ActiveMQ Artemis JMS Clustered Queue Example ....... SUCCESS [ 0.805 s]

[INFO] ActiveMQ Artemis JMS Clustered Static One Way Example SUCCESS [ 1.507 s]

[INFO] ActiveMQ Artemis JMS Clustered Static Discovery Example SUCCESS [ 1.181 s]

[INFO] ActiveMQ Artemis JMS Clustered Static Discovery Example SUCCESS [ 1.079 s]

[INFO] ActiveMQ Artemis JMS Clustered Topic Example ....... SUCCESS [ 1.174 s]

[INFO] ActiveMQ Artemis JMS Clustered Topic URI Example ... SUCCESS [ 1.064 s]

[INFO] ActiveMQ Artemis JMS Queue Message Redistribution Example SUCCESS [ 0.851 s]

[INFO] ActiveMQ Artemis JMS Symmetric Cluster Example ..... SUCCESS [ 1.075 s]

[INFO] ActiveMQ Artemis JMS Client Side Failover Listener Example SUCCESS [ 1.112 s]

[INFO] ActiveMQ Artemis Broker Connection Examples ........ SUCCESS [ 0.230 s]

[INFO] amqp-sending-messages .............................. SUCCESS [ 0.817 s]

[INFO] amqp-receiving-messages ............................ SUCCESS [ 0.766 s]

[INFO] amqp-ssl-enabled ................................... SUCCESS [ 0.682 s]

[INFO] disaster-recovery .................................. SUCCESS [ 0.675 s]

[INFO] ActiveMQ Artemis Broker Balancer Examples .......... SUCCESS [ 0.266 s]

[INFO] evenly-redirect .................................... SUCCESS [ 0.708 s]

[INFO] symmetric-redirect ................................. SUCCESS [ 0.762 s]

[INFO] ActiveMQ Artemis Federation Examples ............... SUCCESS [ 0.286 s]

[INFO] ActiveMQ Artemis Federated Queue Example ........... SUCCESS [ 0.819 s]

[INFO] ActiveMQ Artemis Downstream Federated Queue Example SUCCESS [ 0.790 s]

[INFO] ActiveMQ Artemis Downstream/Upstream Federated Queue Example SUCCESS [ 0.747 s]

[INFO] ActiveMQ Artemis Federated Address Example ......... SUCCESS [ 1.016 s]

[INFO] ActiveMQ Artemis Downstream Federated Address Example SUCCESS [ 0.878 s]

[INFO] ActiveMQ Artemis Downstream/Upstream Federated Address Example SUCCESS [ 0.842 s]

[INFO] ActiveMQ Artemis Federated Address Divert Example .. SUCCESS [ 0.711 s]

[INFO] ActiveMQ Artemis Failover Examples ................. SUCCESS [ 0.239 s]

[INFO] ActiveMQ Artemis JMS Application Layer Failover Example SUCCESS [ 1.251 s]

[INFO] ActiveMQ Artemis JMS Client Side Failover Listener Example SUCCESS [ 1.326 s]

[INFO] ActiveMQ Artemis JMS Colocated Failover Example .... SUCCESS [ 1.355 s]

[INFO] ActiveMQ Artemis JMS Colocated Failover Recover Only Example SUCCESS [ 0.993 s]

[INFO] ActiveMQ Artemis JMS HA Policy Auto backup example . SUCCESS [ 0.944 s]

[INFO] ActiveMQ Artemis JMS Multiple Failover Example ..... SUCCESS [ 1.083 s]

[INFO] ActiveMQ Artemis JMS Multiple Failover Failback Example SUCCESS [ 0.925 s]

[INFO] ActiveMQ Artemis JMS Non Transaction Failover Example SUCCESS [ 0.796 s]

[INFO] ActiveMQ Artemis JMS Replicated Failback Example ... SUCCESS [ 0.990 s]

[INFO] ActiveMQ Artemis JMS Replicated Failback Static Example SUCCESS [ 0.996 s]

[INFO] ActiveMQ Artemis JMS Replicated Multiple Failover Example SUCCESS [ 1.006 s]

[INFO] ActiveMQ Artemis JMS Replicated Transaction Failover Example SUCCESS [ 0.824 s]

[INFO] ActiveMQ Artemis JMS Scale Down Example ............ SUCCESS [ 0.921 s]

[INFO] ActiveMQ Artemis JMS Stop Server Failover Example .. SUCCESS [ 0.708 s]

[INFO] ActiveMQ Artemis JMS Transaction Failover Example .. SUCCESS [ 1.003 s]

[INFO] ActiveMQ Artemis Zookeeper Single Pair Ordered Failback Example SUCCESS [ 0.888 s]

[INFO] ActiveMQ Artemis Standard Examples ................. SUCCESS [ 0.260 s]

[INFO] ActiveMQ Artemis JMS Auto Closable Example ......... SUCCESS [ 0.696 s]

[INFO] ActiveMQ Artemis JMS Browser Example ............... SUCCESS [ 0.663 s]

[INFO] ActiveMQ Artemis Broker Auth Plugin Example ........ SUCCESS [ 0.782 s]

[INFO] ActiveMQ Artemis Broker Plugin Example ............. SUCCESS [ 0.797 s]

[INFO] ActiveMQ Artemis Camel Example ..................... SUCCESS [ 0.209 s]

[INFO] ActiveMQ Artemis Camel WAR Application ............. SUCCESS [03:23 min]

[INFO] ActiveMQ Artemis Camel Broker ...................... SUCCESS [ 1.457 s]

[INFO] ActiveMQ Artemis CDI Example ....................... SUCCESS [ 29.178 s]

[INFO] ActiveMQ Artemis JMS Kick Off Example .............. SUCCESS [ 0.760 s]

[INFO] ActiveMQ Artemis JMS Completion Listener Example ... SUCCESS [ 0.713 s]

[INFO] ActiveMQ Artemis JMS Consumer Rate Limit Example ... SUCCESS [ 0.783 s]

[INFO] ActiveMQ Artemis JMS Context Example ............... SUCCESS [ 0.763 s]

[INFO] ActiveMQ Artemis Core Bridge Example ............... SUCCESS [ 0.971 s]

[INFO] ActiveMQ Artemis JMS Database Example .............. SUCCESS [ 0.792 s]

[INFO] ActiveMQ Artemis JMS Dead Letter Example ........... SUCCESS [ 0.751 s]

[INFO] ActiveMQ Artemis JMS Delayed Redelivery Example .... SUCCESS [ 0.714 s]

[INFO] ActiveMQ Artemis JMS Divert Example ................ SUCCESS [ 0.890 s]

[INFO] ActiveMQ Artemis JMS Durable Subscription Example .. SUCCESS [ 0.874 s]

[INFO] ActiveMQ Artemis JMS Embedded Example .............. SUCCESS [ 0.859 s]

[INFO] ActiveMQ Artemis JMS Simple Embedded Example ....... SUCCESS [ 0.783 s]

[INFO] ActiveMQ Artemis JMS Exclusive Queue Example ....... SUCCESS [ 0.828 s]

[INFO] ActiveMQ Artemis JMS Expiry Example ................ SUCCESS [ 0.733 s]

[INFO] ActiveMQ Artemis JMS Http Transport Example ........ SUCCESS [ 0.720 s]

[INFO] ActiveMQ Artemis JMS Interceptor Example ........... SUCCESS [ 0.788 s]

[INFO] ActiveMQ Artemis JMS Interceptor Client Example .... SUCCESS [ 0.755 s]

[INFO] ActiveMQ Artemis MQTT Interceptor Example .......... SUCCESS [ 1.400 s]

[INFO] ActiveMQ Artemis AMQP Interceptor Example .......... SUCCESS [ 1.061 s]

[INFO] ActiveMQ Artemis JMS Instantiate Connection Factory Example SUCCESS [ 0.936 s]

[INFO] ActiveMQ Artemis JMS Bridge Example ................ SUCCESS [ 1.110 s]

[INFO] ActiveMQ Artemis JMS &amp;quot;JMX&amp;quot; Example ................. SUCCESS [ 0.753 s]

[INFO] ActiveMQ Artemis JMS &amp;quot;JMX over SSL&amp;quot; Example ........ SUCCESS [ 0.705 s]

[INFO] ActiveMQ Artemis JMS Large Message Example ......... SUCCESS [ 1.019 s]

[INFO] ActiveMQ Artemis JMS Last Value Queue Example ...... SUCCESS [ 0.900 s]

[INFO] ActiveMQ Artemis JMS Management Example ............ SUCCESS [ 0.773 s]

[INFO] ActiveMQ Artemis JMS Management Notifications Example SUCCESS [ 0.744 s]

[INFO] ActiveMQ Artemis JMS Message Counter Example ....... SUCCESS [ 0.873 s]

[INFO] ActiveMQ Artemis JMS Message Group Example ......... SUCCESS [ 0.716 s]

[INFO] ActiveMQ Artemis JMS Message Group Example 2 ....... SUCCESS [ 0.827 s]

[INFO] ActiveMQ Artemis JMS MessagePriorityExample Example SUCCESS [ 0.825 s]

[INFO] ActiveMQ Artemis JMS Netty OpenSSL Example ......... SUCCESS [ 0.827 s]

[INFO] ActiveMQ Artemis JMS No Consumer Buffering Example . SUCCESS [ 0.665 s]

[INFO] ActiveMQ Artemis JMS Paging Example ................ SUCCESS [ 0.751 s]

[INFO] ActiveMQ Artemis JMS Pre Acknowledge Example ....... SUCCESS [ 0.723 s]

[INFO] ActiveMQ Artemis JMS Producer Rate Limit Example ... SUCCESS [ 0.820 s]

[INFO] ActiveMQ Artemis JMS Queue Example ................. SUCCESS [ 0.684 s]

[INFO] ActiveMQ Artemis JMS Queue Requestor Example ....... SUCCESS [ 0.722 s]

[INFO] ActiveMQ Artemis JMS Queue Selector Example ........ SUCCESS [ 0.794 s]

[INFO] ActiveMQ Artemis JMS Reattach Node Example ......... SUCCESS [ 0.684 s]

[INFO] ActiveMQ Artemis REST Examples ..................... SUCCESS [ 0.293 s]

[INFO] Browser Chat App ................................... SUCCESS [ 10.299 s]

[INFO] Mixed JMS and REST Producers/Consumers ............. SUCCESS [ 4.761 s]

[INFO] Push Subscriptions ................................. SUCCESS [ 4.727 s]

[INFO] Duplicate Send Example ............................. SUCCESS [ 4.538 s]

[INFO] ActiveMQ Artemis JMS Request Reply Example ......... SUCCESS [ 0.873 s]

[INFO] ActiveMQ Artemis JMS Scheduled Message Example ..... SUCCESS [ 0.707 s]

[INFO] ActiveMQ Artemis JMS Security Example .............. SUCCESS [ 0.730 s]

[INFO] ActiveMQ Artemis JMS Security Keycloak Example ..... SUCCESS [02:38 min]

[INFO] ActiveMQ Artemis JMS Security LDAP Example ......... SUCCESS [03:29 min]

[INFO] ActiveMQ Artemis JMS Security Manager Example ...... SUCCESS [ 1.208 s]

[INFO] ActiveMQ Artemis JMS Send Acknowledgements Example . SUCCESS [ 0.754 s]

[INFO] ActiveMQ Artemis JMS Shared Consumer Example ....... SUCCESS [ 0.703 s]

[INFO] ActiveMQ Artemis JMS Slow Consumer Example ......... SUCCESS [ 0.785 s]

[INFO] ActiveMQ Artemis JMS Spring Integration Example .... SUCCESS [ 0.837 s]

[INFO] ActiveMQ Artemis JMS Spring Boot Integration Example SUCCESS [01:59 min]

[INFO] ActiveMQ Artemis JMS SSL Enabled Example ........... SUCCESS [ 0.978 s]

[INFO] ActiveMQ Artemis Mqtt CRL Example .................. SUCCESS [ 1.029 s]

[INFO] ActiveMQ Artemis JMS SSL Enabled Dual Authentication Example SUCCESS [ 0.774 s]

[INFO] ActiveMQ Artemis Static Selector Example ........... SUCCESS [ 0.910 s]

[INFO] ActiveMQ Artemis JMS Temporary Queue Example ....... SUCCESS [ 0.796 s]

[INFO] ActiveMQ Artemis JMS Topic Example ................. SUCCESS [ 0.669 s]

[INFO] ActiveMQ Artemis JMS Topic Hierarchies Example ..... SUCCESS [ 0.681 s]

[INFO] ActiveMQ Artemis JMS Topic Selector Example 1 ...... SUCCESS [ 0.748 s]

[INFO] ActiveMQ Artemis JMS Topic Selector Example 2 ...... SUCCESS [ 0.840 s]

[INFO] ActiveMQ Artemis JMS Transactional Example ......... SUCCESS [ 0.790 s]

[INFO] ActiveMQ Artemis JMS XAHeuristicExample Example .... SUCCESS [ 0.917 s]

[INFO] ActiveMQ Artemis JMS XA Receive Example ............ SUCCESS [ 1.095 s]

[INFO] ActiveMQ Artemis JMS XA Send Example ............... SUCCESS [ 0.836 s]

[INFO] ActiveMQ Artemis Modules Examples .................. SUCCESS [ 0.509 s]

[INFO] ActiveMQ Artemis JMS RA ............................ SUCCESS [ 14.595 s]

[INFO] ActiveMQ Artemis Inter-broker Bridging Examples .... SUCCESS [ 0.193 s]

[INFO] Artemis JMS Bridge Example ......................... SUCCESS [ 32.611 s]

[INFO] Artemis Tomcat JNDI Resources Example .............. SUCCESS [01:51 min]

[INFO] ActiveMQ Artemis Performance Examples .............. SUCCESS [ 0.216 s]

[INFO] ActiveMQ Artemis JMS Perf example for openwire ..... SUCCESS [ 4.818 s]

[INFO] ActiveMQ Artemis Soak Normal Example ............... SUCCESS [ 0.846 s]

[INFO] ActiveMQ Artemis Protocols Root Example ............ SUCCESS [ 0.329 s]

[INFO] ActiveMQ Artemis amqp Examples ..................... SUCCESS [ 0.275 s]

[INFO] ActiveMQ Artemis AMQP CPP Example .................. SUCCESS [ 0.850 s]

[INFO] ActiveMQ Artemis AMQP CPP Example .................. SUCCESS [ 0.809 s]

[INFO] ActiveMQ Artemis Proton-J Example .................. SUCCESS [ 0.629 s]

[INFO] ActiveMQ Artemis Proton Ruby Example ............... SUCCESS [ 0.422 s]

[INFO] ActiveMQ Artemis SASL-SCRAM Example ................ SUCCESS [ 0.673 s]

[INFO] ActiveMQ Artemis MQTT Examples ..................... SUCCESS [ 0.385 s]

[INFO] ActiveMQ Artemis MQTT Clustered Queue Example ...... SUCCESS [ 0.723 s]

[INFO] ActiveMQ Artemis MQTT Publish/Subscribe Example .... SUCCESS [ 0.567 s]

[INFO] ActiveMQ Artemis stomp Examples .................... SUCCESS [ 0.258 s]

[INFO] ActiveMQ Artemis Stomp 1.0 Example ................. SUCCESS [ 1.103 s]

[INFO] ActiveMQ Artemis Stomp Dual Authentication Example . SUCCESS [ 1.376 s]

[INFO] ActiveMQ Artemis JMS StompWebSocketExample Example . SUCCESS [ 0.737 s]

[INFO] ActiveMQ Artemis JMS Stomp Embedded Interceptor Example SUCCESS [ 1.027 s]

[INFO] ActiveMQ Artemis Stomp 1.1 Example ................. SUCCESS [ 0.784 s]

[INFO] ActiveMQ Artemis Stomp 1.2 Example ................. SUCCESS [ 0.775 s]

[INFO] ActiveMQ Artemis Stomp JMS Example ................. SUCCESS [01:17 min]

[INFO] ActiveMQ Artemis Openwire Examples ................. SUCCESS [ 0.294 s]

[INFO] ActiveMQ Artemis Openwire chat Example ............. SUCCESS [ 1.063 s]

[INFO] ActiveMQ Artemis OpenWire JMS Queue Example ........ SUCCESS [ 0.674 s]

[INFO] ActiveMQ Artemis OpenWire JMS Message Listener Example SUCCESS [ 0.582 s]

[INFO] ActiveMQ Artemis OpenWire JMS Message Recovery Example SUCCESS [ 1.443 s]

[INFO] ActiveMQ Artemis OpenWire Virtual Topic Mapping Example SUCCESS [ 0.810 s]

[INFO] ------------------------------------------------------------------------

[INFO] BUILD SUCCESS

[INFO] ------------------------------------------------------------------------

[INFO] Total time: 43:08 min

[INFO] Finished at: 2021-09-02T14:35:12+08:00

[INFO] ------------------------------------------------------------------------
&lt;/code&gt;&lt;/pre&gt;</content>
    </item>
    
    <item>
      <title>Mount Network Share on LibrEelec or on CoreElec</title>
      <link>https://ltan.me/post/2021/09/mount-network-share-on-libreelec-or-on-coreelec/</link>
      <pubDate>Sat, 04 Sep 2021 17:16:13 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/09/mount-network-share-on-libreelec-or-on-coreelec/</guid>
      <description>如何在coreelec 系统挂在nas共享目录，支持自动开机播放，播放内容安排 背景需求是打造家庭定时定点播放内容，内容包含音视频，现有环境闲置的n1盒子一台，音响一套，小米智能插座一个，nas ds218</description>
      <content>&lt;h1 id=&#34;如何在coreelec-系统挂在nas共享目录支持自动开机播放播放内容安排&#34;&gt;如何在coreelec 系统挂在nas共享目录，支持自动开机播放，播放内容安排&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;背景需求是打造家庭定时定点播放内容，内容包含音视频，现有环境闲置的n1盒子一台，音响一套，小米智能插座一个，nas ds218群晖一台，设定每天定时，定点播放不同内容，内容来自群晖硬盘，或者网络离线内容。需要解决以下关键问题如下&lt;/p&gt;
&lt;p&gt;1，如何在coreelec mount 群晖共享目录&lt;/p&gt;
&lt;p&gt;2，如何让coreelec 开机或者重启就自动播放内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;如何在coreelecd--mount-共享目录&#34;&gt;如何在coreelecd  mount 共享目录&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;以下是官网介绍&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Kodi can natively mount SMB, NFS, SFTP, WebDAV (and more) remote filesystems (shares) to read media for playback, but many applications that write content, e.g. TVHeadend storing TV recordings, must write to &amp;ldquo;local&amp;rdquo; storage. Remote SMB and NFS shares can be &amp;ldquo;mounted&amp;rdquo; to the local filesystem using kernel mounts configured through systemd .mount files.&lt;/p&gt;
&lt;p&gt;The following NAS configuration is used in the examples below:&lt;/p&gt;
&lt;p&gt;NAS IP: &lt;code&gt;192.168.50.22&lt;/code&gt;   群晖的ip&lt;/p&gt;
&lt;p&gt;Username: &lt;code&gt;nasuser1&lt;/code&gt;   群晖系统的账号&lt;/p&gt;
&lt;p&gt;Password: &lt;code&gt;123nas&lt;/code&gt; 群晖的系统密码&lt;/p&gt;
&lt;p&gt;Share name: &lt;code&gt;recordings&lt;/code&gt;    群晖的共享目录名称，我的自己的是volume1&lt;/p&gt;
&lt;p&gt;Full address to share: &lt;code&gt;\\192.168.50.22\volume1&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;smb-shares--smb-协议共享挂载&#34;&gt;SMB Shares  smb 协议共享挂载&lt;/h2&gt;
&lt;h3 id=&#34;1-create-the-folder-where-the-share-should-be-mounted&#34;&gt;1. Create the folder where the share should be mounted&lt;/h3&gt;
&lt;p&gt;Connect to your LibreELEC HTPC with SSH.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mkdir /storage/recordings
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;2-create-the-systemd-mount-file&#34;&gt;2. Create the systemd .mount file&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;IMPORTANT:&lt;/strong&gt; The filename uses hyphens to separate elements of the fileystem path to the share mount-point, e.g. &lt;code&gt;/storage/recordings&lt;/code&gt; will be &lt;code&gt;storage-recordings.mount&lt;/code&gt; and sub folders, e.g. &lt;code&gt;/storage/recordings/tv&lt;/code&gt; would be &lt;code&gt;storage-recordings-tv.mount&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Create the .mount file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nano /storage/.config/system.d/storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Below is an example of the mount definition file for a Samba share:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[Unit]
Description=cifs mount script
Requires=network-online.service
After=network-online.service
Before=kodi.service

[Mount]
What=//192.168.50.22/recordings
Where=/storage/recordings
Options=username=nasuser1,password=123nas,rw,vers=2.1
Type=cifs

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;3-things-to-edit&#34;&gt;3. Things to edit&lt;/h3&gt;
&lt;p&gt;Address of your share. Remember to always use / slashes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;What=//192.168.1.222/recordings
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Path where the Share should be mounted:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Where=/storage/recordings
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Options:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Options=username=nasuser1,password=123nas,rw,vers=2.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;username=&lt;/code&gt; Username of your network share &lt;code&gt;password&lt;/code&gt; Password of your network share &lt;code&gt;rw&lt;/code&gt; Read/write access &lt;code&gt;vers=2.1&lt;/code&gt; Version of the Samba protocol, &lt;code&gt;2.1&lt;/code&gt; is supported since Windows 7 several &lt;a href=&#34;https://wiki.samba.org/index.php/Samba3/SMB2#Introduction&#34;&gt;other versions&lt;/a&gt; are supported too&lt;/p&gt;
&lt;h3 id=&#34;4-enable-the-mount&#34;&gt;4. Enable the mount&lt;/h3&gt;
&lt;p&gt;Finally we need to enable the mountpoint.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl enable storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;5-reboot&#34;&gt;5. Reboot&lt;/h3&gt;
&lt;p&gt;Reboot your system to check if the mount works.&lt;/p&gt;
&lt;h3 id=&#34;6-helpful-command-for-troubleshooting&#34;&gt;6. Helpful command for troubleshooting&lt;/h3&gt;
&lt;p&gt;Get status and error messages from the mount point.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl status storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Remove mount point and disabling it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl disable storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;nfs-shares--我使用的nfs协议推荐使用nfs效率比smb快&#34;&gt;NFS Shares  我使用的nfs协议，推荐使用nfs,效率比smb快&lt;/h1&gt;
&lt;h3 id=&#34;1-create-the-folder-where-the-share-should-be-mounted-1&#34;&gt;1. Create the folder where the share should be mounted&lt;/h3&gt;
&lt;p&gt;Connect to your LibreELEC HTPC &lt;a href=&#34;https:///accessing_libreelec&#34;&gt;with SSH&lt;/a&gt;.     ssh登录系统，首先创建recordings目录,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mkdir /storage/recordings
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;2-create-the-systemd-definition-file---定义mount文件&#34;&gt;2. Create the systemd definition file   定义mount文件&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Important:&lt;/strong&gt; you need to use the filename for the definition file according to the folder where you want to mount your share . In our case &lt;code&gt;storage-recordings.mount&lt;/code&gt; represent path -&amp;gt; &lt;code&gt;/storage/recordings&lt;/code&gt;. If you like an subfolder &lt;code&gt;storage-recordings-tv.mount&lt;/code&gt; represent path -&amp;gt; &lt;code&gt;/storage/recordings/tv&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;定义mount文件需要一定的格式，如storage-recordings.mount 则 创建的目录是/storage/recordings&lt;/p&gt;
&lt;p&gt;注意storage-music.mount 是不能定义的，定义会有报错，报bad set 错误&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;nano /storage/.config/system.d/storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Content of the definition file for a NFS share.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[Unit]
Description=nfs mount script
Requires=network-online.service
After=network-online.service
Before=kodi.service

[Mount]
What=192.168.50.22:/volume1/music
Where=/storage/recordings
Options=
Type=nfs

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;3-things-to-edit-1&#34;&gt;3. Things to edit&lt;/h3&gt;
&lt;p&gt;Address of your share;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;What=192.168.1.222:/usr/data2/video
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Path where the share should be mounted:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Where=/storage/recordings
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Options: At this section you are able to define specific NFS options, such as NFS version for example. In our example here, we don&amp;rsquo;t need it and we are assuming you are using a NFSv3 share.&lt;/p&gt;
&lt;p&gt;Type: &lt;code&gt;Type=nfs&lt;/code&gt;   type为指定类型&lt;/p&gt;
&lt;h3 id=&#34;4-start-it-for-a-test&#34;&gt;4. Start it for a test:&lt;/h3&gt;
&lt;p&gt;写好mount文件后，准备开启 ，输入如下命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl start storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Note: That&amp;rsquo;s only a test and the mount won&amp;rsquo;t be available after a reboot. To make it available after boot you have to &amp;ldquo;enable&amp;rdquo; the service first.&lt;/p&gt;
&lt;h3 id=&#34;5-enable-the-mount&#34;&gt;5. Enable the mount&lt;/h3&gt;
&lt;p&gt;以下命令的作用可以，让coreelec 开机会就启动挂载共享目录&lt;/p&gt;
&lt;p&gt;If the previous test worked, then please enable the service via:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl enable storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;6-reboot&#34;&gt;6. Reboot&lt;/h3&gt;
&lt;p&gt;Reboot your system to see if the mount is available after boot.&lt;/p&gt;
&lt;h3 id=&#34;7-helpful-command-for-troubleshooting&#34;&gt;7. Helpful command for troubleshooting&lt;/h3&gt;
&lt;p&gt;Get status and error messages from the mount point.&lt;/p&gt;
&lt;p&gt;查看挂载的目录状态&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl status storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Remove mount point and disabling it.&lt;/p&gt;
&lt;p&gt;如果需要禁用，则用disable 禁用挂载即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl disable storage-recordings.mount
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;apple-timecapsule&#34;&gt;&lt;strong&gt;Apple TimeCapsule&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;TimeCapsule devices share files using an Apple dialect of SMB that is not compatible with the Samba &lt;code&gt;smbclient&lt;/code&gt; Kodi uses to connect to SMB shares. To access media on a TimeCapsule you can follow the steps described above for connecting to Samba shares with a systemd storage mount, but with one difference: the &lt;code&gt;Options&lt;/code&gt; configuration must force SMB v1.0 and legacy NTLM authentication or the mount will fail. See below:&lt;/p&gt;
&lt;p&gt;如果是你是用smb协议共享的 话，如果有用户名和密码，则用以下格式填写在options处&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Options=username=MyUser,password=MyPass,sec=ntlm,vers=1.0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;SMB v1.0 is widely considered to be insecure, but TimeCapsules no longer receive software updates and there is no alternative; SMB v2/v3 are not supported.&lt;/p&gt;
&lt;p&gt;最后效果，以下三个目录是我挂载进来的，如果你挂music, videos目录不建议，会报错的，估计是系统不留吧&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210904174106369.png&#34; alt=&#34;image-20210904174106369&#34;&gt;&lt;/p&gt;
&lt;p&gt;在 /storage/.config/system.d/目录下，默认系统提供了用例sample,模板，你可以直接更改为mount就可以用&lt;/p&gt;
&lt;p&gt;mount文件内容格式一定要按上面格式填写才能生效，否则报错bad set&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210904174307171.png&#34; alt=&#34;image-20210904174307171&#34;&gt;&lt;/p&gt;
&lt;p&gt;开机自启脚本如下：&lt;/p&gt;
&lt;p&gt;在/storage/.kodi/userdata/ 目录下 创建 autoexec.py 文件 ，输入代码如下&lt;/p&gt;
&lt;p&gt;python 脚本，这里借助xbmc 库，可以充分发挥你的想像力&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt; &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; xbmc

 xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayMedia(/storage/.kodi/userdata/playlists/video/1.mp4)&amp;#34;&lt;/span&gt;) 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其实还有一个以命令形式来控制播放就是cli 模式&lt;/p&gt;
&lt;p&gt;kodi-send 命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;CoreELEC:~ &lt;span style=&#34;color:#75715e&#34;&gt;# kodi-send&lt;/span&gt;
Usage
        kodi-send &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;OPTION&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; --action&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;ACTION
        kodi-send &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;OPTION&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; --button&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;BUTTON
Example
        kodi-send --host&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;192.168.0.1 --port&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9777&lt;/span&gt; --action&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Quit&amp;#34;&lt;/span&gt;
Options
        -?, --help                      Will bring up this message
        --host&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;HOST                     Choose what HOST to connect to &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;localhost&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
        --port&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;PORT                     Choose what PORT to connect to &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;9777&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
        --keymap&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;KEYMAP                 Choose which KEYMAP to use &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; key presses &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;KB&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
        --button&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;BUTTON                 Sends a key press event to Kodi, this option can be added multiple times to create a macro
        -a ACTION, --action&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;ACTION      Sends an action to XBMC, this option can be added multiple times to create a macro
        -d T, --delay&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;T                 Waits &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; T ms, this option can be added multiple times to create a macro
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
    </item>
    
    <item>
      <title>Artemis Origin Null Is Not Allowed to Call This Agent</title>
      <link>https://ltan.me/post/2021/09/artemis-origin-null-is-not-allowed-to-call-this-agent/</link>
      <pubDate>Fri, 03 Sep 2021 11:14:53 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/09/artemis-origin-null-is-not-allowed-to-call-this-agent/</guid>
      <description>Artemis Origin Null Is Not Allowed to Call This Agent 解决不能访问jolokia http interface 接口的问题，访问报403 状态错误 工作项目中需要使用到mq的消息管理api,如需要查询在线连接数，需要查看某一个clientId是否在线，需要整合到自身</description>
      <content>&lt;h1 id=&#34;artemis-origin-null-is-not-allowed-to-call-this-agent&#34;&gt;Artemis Origin Null Is Not Allowed to Call This Agent&lt;/h1&gt;
&lt;h3 id=&#34;解决不能访问jolokia-http-interface-接口的问题访问报403-状态错误&#34;&gt;解决不能访问jolokia http interface 接口的问题，访问报403 状态错误&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;工作项目中需要使用到mq的消息管理api,如需要查询在线连接数，需要查看某一个clientId是否在线，需要整合到自身业务当中去，&lt;/p&gt;
&lt;p&gt;对于artemis 就是一个黑盒，虽然是开源的，而且是完全开放的源代码，没有必须去改里面源码达到需求，其实artemis 后台提供了&lt;/p&gt;
&lt;p&gt;丰富的http rest 接口。再比如根据某一个clientId 踢下线，超时设置，连接数查看，系统资源统计监控查询这些api 都是开放的&lt;/p&gt;
&lt;p&gt;但发现实际使用过程中，并不是很顺利，踩了一些坑，标题就是常见的问题之一&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;比如官方这篇文档有提到通过 jolokia 提供 接口对外暴露调用，以一下是连接地址&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://activemq.apache.org/components/artemis/documentation/latest/management.html#management-notifications&#34;&gt;Management · ActiveMQ Artemis Documentation (apache.org)&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Exposing JMX using Jolokia
The default Broker configuration ships with the Jolokia HTTP agent deployed as a web application. Jolokia is a remote JMX-over-HTTP bridge that exposes MBeans. For a full guide as to how to use it refer to Jolokia Documentation, however a simple example to query the broker&#39;s version would be to use a browser and go to the URL http://username:password@localhost:8161/console/jolokia/read/org.apache.activemq.artemis:broker=&amp;quot;0.0.0.0&amp;quot;/Version.

This would give you back something like the following:
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;request&amp;#34;&lt;/span&gt;:{&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;mbean&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.apache.activemq.artemis:broker=\&amp;#34;0.0.0.0\&amp;#34;&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;attribute&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Version&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;read&amp;#34;&lt;/span&gt;},&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2.0.0-SNAPSHOT&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;1487017918&lt;/span&gt;,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;status&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;访问格式如下，比如查询borker  版本&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://username:password@localhost:8161/console/jolokia/read/org.apache.activemq.artemis:broker=&amp;quot;0.0.0.0&amp;quot;/Version
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但实际过程就是报错如下 ，常见403错误&lt;/p&gt;
&lt;p&gt;原因是 origin 这个参数是null, 官方也没有说清 origin 这个参数是怎么传过去，虽然做为开发对http接口协议还是有一点了解，&lt;/p&gt;
&lt;p&gt;origin 这个参数就是需要指明访问目标。通常在http header头 加上即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{

  &amp;quot;error_type&amp;quot;: &amp;quot;java.lang.Exception&amp;quot;,

  &amp;quot;error&amp;quot;: &amp;quot;java.lang.Exception : Origin null is not allowed to call this agent&amp;quot;,

  &amp;quot;status&amp;quot;: 403

}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;image-20210903113004787.png&#34; alt=&#34;image-20210903113004787&#34;&gt;&lt;/p&gt;
&lt;p&gt;加上后果然访问正常了&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210903113348373.png&#34; alt=&#34;image-20210903113348373&#34;&gt;&lt;/p&gt;
&lt;p&gt;但在实际springboot 项目中，我们用restTemplate 这个http client 客户端，发现不行，还是403&lt;/p&gt;
&lt;p&gt;postman 是可以的，我们在spring boot 项目中，用restTemplate 访问不行。为什么，后面我们没有绕过这个问题，没有换过库&lt;/p&gt;
&lt;p&gt;没有使用postman 推荐的code ,以下是postman 推荐的，但没有尝试，我们还是坚持采用 restTemplate  客户端&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-Java&#34; data-lang=&#34;Java&#34;&gt;Unirest&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setTimeouts&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;0&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; 0&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
HttpResponse&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; response &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Unirest&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://admin:admin@172.20.151.90:8161/console/jolokia/&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;header&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Origin&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34; http://172.20.151.90:8161&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;header&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Content-Type&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;application/json&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;body&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{\&amp;#34;type\&amp;#34;:\&amp;#34;exec\&amp;#34;,\&amp;#34;mbean\&amp;#34;:\&amp;#34;org.apache.activemq.artemis:broker=\\\&amp;#34;d2403827fe6c\\\&amp;#34;\&amp;#34;,\&amp;#34;operation\&amp;#34;:\&amp;#34;listConsumers(java.lang.String, int, int)\&amp;#34;,\&amp;#34;arguments\&amp;#34;:[\&amp;#34;{\\\&amp;#34;field\\\&amp;#34;:\\\&amp;#34;CLIENT_ID\\\&amp;#34;,\\\&amp;#34;operation\\\&amp;#34;:\\\&amp;#34;EQUALS\\\&amp;#34;,\\\&amp;#34;value\\\&amp;#34;:\\\&amp;#34;86303335\\\&amp;#34;,\\\&amp;#34;sortOrder\\\&amp;#34;:\\\&amp;#34;asc\\\&amp;#34;,\\\&amp;#34;sortColumn\\\&amp;#34;:\\\&amp;#34;id\\\&amp;#34;}\&amp;#34;,1,10]}&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;asString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;怀疑 restTemplate 并没有把orgin传过去,经过抓包 才发现&lt;/p&gt;
&lt;p&gt;于是我们用&lt;code&gt;wireshark&lt;/code&gt; 工具抓包发现restTemplate 没有把orgin 参数传给atemis-server&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;16306405458570.png&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后在百度一下，发现以下csdn 博客解决了，增加一行配置即可&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;System.setProperty(&amp;quot;sun.net.http.allowRestrictedHeaders&amp;quot;,&amp;quot;true&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;@Component&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ArtemisJmxHelper&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;@Autowired&lt;/span&gt;
  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; RestTemplate restTemplate&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; String username&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
  &lt;span style=&#34;color:#66d9ef&#34;&gt;private&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; String password&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;

  &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; Map &lt;span style=&#34;color:#a6e22e&#34;&gt;getTopicCosumer&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;String topic&lt;span style=&#34;color:#f92672&#34;&gt;){&lt;/span&gt;


&lt;span style=&#34;color:#75715e&#34;&gt;//这一行必须要加，才能让restTemplate 生效orgin参数 
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setProperty&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sun.net.http.allowRestrictedHeaders&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;



&lt;span style=&#34;color:#75715e&#34;&gt;//    String url=&amp;#34;http://admin:admin@172.20.151.90:8161/console/jolokia&amp;#34;;
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    String url&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://172.20.151.90:8161/console/jolokia/&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
    JolokiaReq jolokiaReq &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; JolokiaReq&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
    jolokiaReq&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setType&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;exec&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    jolokiaReq&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setOperation&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;listConsumers(java.lang.String, int, int)&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    jolokiaReq&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setMbean&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;org.apache.activemq.artemis:broker=\&amp;#34;d2403827fe6c\&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;

&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    Map req &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; HashMap&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    req&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;field&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;CLIENT_ID&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    req&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;operation&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;EQUALS&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    req&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;deviceClient&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    req&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sortOrder&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;asc&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    req&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sortColumn&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    Object&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; arguments&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; Object&lt;span style=&#34;color:#f92672&#34;&gt;[]{&lt;/span&gt;JSON&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toJSONString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;req&lt;span style=&#34;color:#f92672&#34;&gt;),&lt;/span&gt;1&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;10&lt;span style=&#34;color:#f92672&#34;&gt;};&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    jolokiaReq&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setArguments&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;arguments&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;

&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    HttpHeaders httpHeaders &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; HttpHeaders&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    httpHeaders&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;setContentType&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;MediaType&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;APPLICATION_JSON&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    httpHeaders&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Origin&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://172.20.151.90:8161&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    String auth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; username &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; password&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;byte&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[]&lt;/span&gt; encodedAuth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Base64&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;encodeBase64&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;auth&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getBytes&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;Charset&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;forName&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;US-ASCII&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)));&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;​&lt;/span&gt;    httpHeaders&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;add&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Authorization&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Basic &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;encodedAuth&lt;span style=&#34;color:#f92672&#34;&gt;));&lt;/span&gt;



    HttpEntity httpEntity &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;new&lt;/span&gt; HttpEntity&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;jolokiaReq&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;httpHeaders&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    String str &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; JSON&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;toJSONString&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;httpEntity&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    System&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;println&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;str&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    ResponseEntity&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;String&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; responseEntity &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; restTemplate&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;postForEntity&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;url&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; str&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; String&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
    String body &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; responseEntity&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;getBody&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;();&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;null&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;加了后 &lt;code&gt;System.setProperty(&amp;quot;sun.net.http.allowRestrictedHeaders&amp;quot;,&amp;quot;true&amp;quot;);&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210903142612594.png&#34; alt=&#34;image-20210903142612594&#34;&gt;&lt;/p&gt;
&lt;p&gt;４０３问题 最后总结一下：&lt;/p&gt;
&lt;p&gt;有两点需要注意的，&lt;/p&gt;
&lt;p&gt;第一，请求时，需要加用户名和密码，在ｈｅａｄｅｒ头增加ｏｒｇｉｎ参数&lt;/p&gt;
&lt;p&gt;第二，需要在jolokia-access.xml设置给一下跨域访问为  cors &lt;code&gt;*//* &lt;/code&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>How to Enable Activemq Artemis Rest Api</title>
      <link>https://ltan.me/post/2021/08/how-to-enable-activemq-artemis-rest-api/</link>
      <pubDate>Tue, 31 Aug 2021 19:35:49 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/08/how-to-enable-activemq-artemis-rest-api/</guid>
      <description>如何启用activemq artemis rest api 特性 在一次项目中需要使用activemq artemis mqtt 协议通信特性，需要借助rest api 功能按clientId 查询是否在线，也就是如何通过client id 查询 设备是否在线需要借助res</description>
      <content>&lt;h1 id=&#34;如何启用activemq-artemis-rest-api-特性&#34;&gt;如何启用activemq artemis rest api 特性&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;在一次项目中需要使用activemq artemis mqtt 协议通信特性，需要借助rest api 功能按clientId 查询是否在线，也就是如何通过client id 查询 设备是否在线需要借助rest api 特性，默认情况artemis 不提供rest api 特性，在网搜索了一了，再借助官网的文档，需要build 一个war包 放 到web目录下即可，然后 重启程序&lt;/p&gt;
&lt;p&gt;但 在build 过程不是顺利，记录一下报错处理方法&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;github 提供的源代码，需要&lt;code&gt;build&lt;/code&gt; ,即 &lt;code&gt;mvn package&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jirkadanek/artemis-rest&#34;&gt;jirkadanek/artemis-rest: Give your ActiveMQ Artemis Message Broker a REST interface (github.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;官网提供的文档，如何开启rest api 特性&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://activemq.apache.org/components/artemis/documentation/latest/rest.html&#34;&gt;REST Interface · ActiveMQ Artemis Documentation (apache.org)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;stackoverflow  提供的类似的问答 参考  配置参考&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://stackoverflow.com/questions/59319707/artemis-rest-interface&#34;&gt;java - Artemis rest interface - Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://stackoverflow.com/questions/63668418/rest-interface-on-activemq-artemis&#34;&gt;maven - REST interface on ActiveMQ Artemis - Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在集群模式下，如何开集，&lt;code&gt;master/salver&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://stackoverflow.com/questions/59847221/how-to-enable-rest-in-an-activemq-artemis-cluster&#34;&gt;java - How to enable REST in an ActiveMQ Artemis cluster - Stack Overflow&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;build 报错如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;ERROR&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; Failed to execute goal on project artemis&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;rest&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;embedded&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; Could not resolve dependencies &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; project com&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;github&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;jdanekrh&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;artemis&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;rest&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;embedded&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;war&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;1&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;SNAPSHOT&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; Failure to find o
rg&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;apache&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;activemq&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rest&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;artemis&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;rest&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;jar&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;2&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;18&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;0&lt;/span&gt; in http&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//maven.aliyun.com/nexus/content/repositories/central/ was cached in the local repository, resolution will not be reattempted unt
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;il the update interval of alimaven has elapsed or updates are forced &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;Help 1&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;ERROR&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;解决方法，根据上述报错，原因为找不到&lt;code&gt;artemis-rest:jar:2.18.0&lt;/code&gt;  其 版本为 2.18.0 但是pom.xml 里面写的RELEASE, why?&lt;/p&gt;
&lt;p&gt;这里我就把改成对应版本，版本从maven 中央仓库得到最新版本&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;再执行以下命令&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mvn install clean -U
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;然后再执行以下命令，就是打包了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mvn package
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;image-20210831195034813.png&#34; alt=&#34;image-20210831195034813&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;将得到的war包放到web目录下,记得一定要重命名 &lt;code&gt;activemq-rest.war&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210831195919395.png&#34; alt=&#34;image-20210831195919395&#34;&gt;&lt;/p&gt;
&lt;p&gt;还有最关键一步如下，就是在etc目录下的bootstrap.xml 文件位置，添加 你需要启动的war包&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- The web server is only bound to localhost by default --&amp;gt;&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;web&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bind=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://localhost:8161&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;path=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;web&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
       &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;app&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;url=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;activemq-branding&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;war=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;activemq-branding.war&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
       &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;app&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;url=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;artemis-plugin&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;war=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;artemis-plugin.war&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
       &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;app&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;url=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;console&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;war=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;console.war&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;
	   &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;app&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;url=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;console&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;war=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;activemq-rest.war&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!--添加这一行即可--&amp;gt;&lt;/span&gt;
   &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/web&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;重启activemq artemis&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    </item>
    
    <item>
      <title>Activemq Artemis Learning 2</title>
      <link>https://ltan.me/post/2021/08/activemq-artemis-learning-2/</link>
      <pubDate>Sat, 28 Aug 2021 23:21:14 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/08/activemq-artemis-learning-2/</guid>
      <description>activemq artmis 项目所依赖模块说明整理 artemis-boot ：项目主要的程序入口，man函数在此 artemis-cdi-client : cdi 集成 它既可以使用嵌入代理，也可以连接到远程代理。通过实现 artemis clientconfiguration 接口提供配置 artemis-cli: 提供命令工具使用，可以通过命令窗口运行东西，如创建用户，</description>
      <content>&lt;h1 id=&#34;activemq-artmis-项目所依赖模块说明整理&#34;&gt;activemq artmis 项目所依赖模块说明整理&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-boot ：项目主要的程序入口，man函数在此&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-cdi-client : cdi 集成 它既可以使用嵌入代理，也可以连接到远程代理。通过实现 &lt;code&gt;artemis clientconfiguration&lt;/code&gt; 接口提供配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-cli: 提供命令工具使用，可以通过命令窗口运行东西，如创建用户，创建&lt;code&gt;address&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-commons: 为整个项目提供 api 的统一异常库，网络连接心跳逻辑，日志打印库，连接池，集合库，线程原子锁，uuid生成工具库，时间工具类库&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-core-client:   客户端连接sdk包&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-core-client-all: 全局的客户端sdk包&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-core-client-osgi: 开放服务网关协议的客户端工具sdk包&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-distribution:  打成wapper包 重要模块，决定你的项目打包后最终的结构&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-docker: docker build 镜像脚本&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-dto: 数据层传输 对像&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-features: 项目特性配置，初始化数据配置，端口，依赖版本等配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-hawtio:  基于hawtio  用于管理Java东西的模块化Web控制台。 简而言之，这是一个带有插件的网络控制台。 它有&lt;a href=&#34;http://hawt.io/plugins/index.html&#34;&gt;大量的插件&lt;/a&gt; ，可以自定义和扩展以满足您的需求，web修改，扩展都这里面改，关于web页面的增加，删除等功能&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;artemis-jakarta-client&lt;/code&gt;,&lt;code&gt;artemis-jakarta-ra&lt;/code&gt;,&lt;code&gt;artemis-jakarta-server&lt;/code&gt;,&lt;code&gt;artemis-jakarta-service-extensions&lt;/code&gt; : 	Jakarta是Apache组织下的一套Java解决方案的开源软件的名称&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-jdbc-store:  基于jdbc 数据存储类，如mysql,db2,postgres 等&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-jms-client:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-jms-client-all:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-jms-client-osgi:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-jms-server:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-journal:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-junit&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-maven-plugin&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-protocols&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-quorum-api&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-quorum-ri&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-ra&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-rest&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-selector&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-server&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-server-osgi&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-service-extensions&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-web&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;artemis-website&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;docs&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;etc&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;examples&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;integration&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;scripts&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    </item>
    
    <item>
      <title>Activemq Artemis Learning 1</title>
      <link>https://ltan.me/post/2021/08/activemq-artemis-learning-1/</link>
      <pubDate>Sat, 28 Aug 2021 10:22:19 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/08/activemq-artemis-learning-1/</guid>
      <description>Activemq Artemis learning 1 activemq 有两个版本，过去很多人使用的activemq 经典版。 对该版本性能上面评价不是很满意，但今天官方又提供基于netty版的 activemq artemis 这个消息中件间，将提供异步消息处理。在使用activemq好处是在于</description>
      <content>&lt;h1 id=&#34;activemq-artemis-learning-1&#34;&gt;Activemq Artemis learning 1&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;activemq 有两个版本，过去很多人使用的activemq 经典版。 对该版本性能上面评价不是很满意，但今天官方又提供基于netty版的&lt;/p&gt;
&lt;p&gt;activemq artemis 这个消息中件间，将提供异步消息处理。在使用activemq好处是在于，对大多数据中小企业来说没有经历去造轮子，那么完全可以采用开源方案来完成需求，采用activemq artemis 这个消息中间件，他不仅继承原来的多协议，还大大提升了性能，着实很香的，activemq 本来就和rabbitmq, kafka,rocketmq 等三大mq不一样，还是有区别，适用不同场景。比如过去们常常使用mq kafka, rabbitmq大多数是在云服务器内网通信使用的，做服务消息解耦使用，但它只是普通的tcp 传输协议，不支持webscket 直连，http, udp 直连等特点，而activemq artemis 相反，他可以支的寺ws直连，tcp,udp直连，加上公司团队java技术栈的优势，采用先使用，熟悉如何使用activemq artemis 然后对其二次开发，也不是不错技术选型路线&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;下面就是官网提供activemq artemis 核心技术架构图&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210828103628359.png&#34; alt=&#34;image-20210828103628359&#34;&gt;&lt;/p&gt;
&lt;p&gt;如果中小企业需要对activemq artemis 商用的话，就不的不考虑安全问题&lt;/p&gt;
&lt;p&gt;比如android端 是如何链接actviemq artemis 逻辑的，在建立安全链接之前需要做一些鉴权处理&lt;/p&gt;
&lt;p&gt;需要在activemq前 增加一nginx网关作为代理&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Mathematical Generation for the Third Grade of Elementary School</title>
      <link>https://ltan.me/post/2021/08/mathematical-generation-for-the-third-grade-of-elementary-school/</link>
      <pubDate>Sat, 21 Aug 2021 22:12:49 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/08/mathematical-generation-for-the-third-grade-of-elementary-school/</guid>
      <description>生成小学三年级四笔算式题及答案代码 由于小学三年级，数学书本未有负数，小数点，难度还是相对初级，要求3位数*2位数，除式算题不能有小数点, 减法不能用负数 下面就简单写了一下，思路比较简单，还没有包括括号，</description>
      <content>&lt;h1 id=&#34;生成小学三年级四笔算式题及答案代码&#34;&gt;生成小学三年级四笔算式题及答案代码&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;由于小学三年级，数学书本未有负数，小数点，难度还是相对初级，要求3位数*2位数，除式算题不能有小数点, 减法不能用负数&lt;/p&gt;
&lt;p&gt;下面就简单写了一下，思路比较简单，还没有包括括号，没有复杂的计算顺序的问题，基本上是 &lt;code&gt;a*b + d/c&lt;/code&gt;  这种  &lt;code&gt;a*b - d/c&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;生成有答案和无答案两种，方便后续家长或老师改题需要计算器，哈哈，打算后面有时间再搞智能点&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# -*- coding=utf-8 -*-&lt;/span&gt;

&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; random
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; random &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; choice
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; openpyxl &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Workbook
wb &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Workbook()
ws &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; wb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;active
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; datetime


&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getNum&lt;/span&gt;(min,max):
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;randrange(min, max)

&lt;span style=&#34;color:#75715e&#34;&gt;# 判断是否是小数点，90.0,56.0 这类不算&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;is_float&lt;/span&gt;(s):
    s &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; str(s)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; s&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;count(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:  &lt;span style=&#34;color:#75715e&#34;&gt;# 判断小数点个数&lt;/span&gt;
        sl &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; s&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;split(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;# 按照小数点进行分割&lt;/span&gt;
        left &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sl[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]  &lt;span style=&#34;color:#75715e&#34;&gt;# 小数点前面的&lt;/span&gt;
        right &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sl[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]  &lt;span style=&#34;color:#75715e&#34;&gt;# 小数点后面的&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; right &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;:
            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; left&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;startswith(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; left&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;count(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; right&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;isdigit():
            lleft &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; left&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;split(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;)[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]  &lt;span style=&#34;color:#75715e&#34;&gt;# 按照-分割，然后取负号后面的数字&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; lleft&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;isdigit():
                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;elif&lt;/span&gt; left&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;isdigit() &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; right&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;isdigit():
            &lt;span style=&#34;color:#75715e&#34;&gt;# 判断是否为正小数&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;



chengfa &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;span style=&#34;color:#75715e&#34;&gt;#乘法&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;:
    n1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getNum(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;99&lt;/span&gt;)
    n2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getNum(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
    total &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; n1 &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; n2
    c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
    c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(n1);c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;);c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(n2);c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(total)
    chengfa&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(c)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(chengfa)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt;:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;


chufa &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;span style=&#34;color:#75715e&#34;&gt;#除法&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;:
    n1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getNum(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;99&lt;/span&gt;)
    n2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getNum(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;)
    total &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; n1 &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; n2
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; is_float(total):
        c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
        c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(n1);c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;÷&amp;#34;&lt;/span&gt;);c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(n2);c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(int(total))
        chufa&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(c)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(chufa)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt;:
            &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;;


&lt;span style=&#34;color:#75715e&#34;&gt;#乘除合并，加减&lt;/span&gt;
hasres &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
nores &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;span style=&#34;color:#75715e&#34;&gt;#计算符随机&lt;/span&gt;
c&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;+&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;]
&lt;span style=&#34;color:#75715e&#34;&gt;#打印多少题&lt;/span&gt;
t &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;
cell &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#生成excel 4列表格&lt;/span&gt;

&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;:
    chuf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; choice(chufa)
    chenf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; choice(chengfa)
    f &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; choice(c)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; f &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;+&amp;#34;&lt;/span&gt;:
            tt &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
            tt &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
        &lt;span style=&#34;color:#75715e&#34;&gt;#有答案的&lt;/span&gt;
        hasres&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d%s%d%s%d%s%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;],chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;],chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;],f,chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;],chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;],chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;],tt))
        &lt;span style=&#34;color:#75715e&#34;&gt;#无答案的&lt;/span&gt;
        nores&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d%s%d%s%d%s%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=___&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;],chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;],chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;],f,chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;],chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;],chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]))
    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; f &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;+&amp;#34;&lt;/span&gt;:
            tt &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
            tt &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
        &lt;span style=&#34;color:#75715e&#34;&gt;# 有答案的&lt;/span&gt;
        hasres&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d%s%d%s%d%s%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;], chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;],f, chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;], chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;],tt))
        &lt;span style=&#34;color:#75715e&#34;&gt;# 无答案的&lt;/span&gt;
        nores&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d%s%d%s%d%s%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=___&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;], chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], chenf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;],f, chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;], chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], chuf[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]))
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(hasres)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;t:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;



rows &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; item &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; nores:
    rows&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(item)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(rows)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;cell:
        ws&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(rows)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;del&lt;/span&gt; rows[:]

ws&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append([])

rows &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; item &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; hasres:
    rows&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(item)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(rows)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;cell:
        ws&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(rows)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;del&lt;/span&gt; rows[:]

version &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;now()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strftime(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%Y%m&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%H%M%S&amp;#39;&lt;/span&gt;)
wb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;save(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;小学三年级下册数学算式生成-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;.xlsx&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (cell,len(hasres),version))
wb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;生成效果如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210821222311793.png&#34; alt=&#34;image-20210821222311793&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210821222425698.png&#34; alt=&#34;image-20210821222425698&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Vscode Hot Key</title>
      <link>https://ltan.me/post/2021/08/vscode-hot-key/</link>
      <pubDate>Sun, 15 Aug 2021 15:40:16 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/08/vscode-hot-key/</guid>
      <description>我的vscode 使用快捷键 1、 输入一个! html输入模板</description>
      <content>&lt;h1 id=&#34;我的vscode-使用快捷键&#34;&gt;我的vscode 使用快捷键&lt;/h1&gt;
&lt;p&gt;1、 输入一个&lt;code&gt;!&lt;/code&gt;  html输入模板&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Main Route and Soft Route Use Configuration</title>
      <link>https://ltan.me/post/2021/08/main-route-and-soft-route-use-configuration/</link>
      <pubDate>Wed, 11 Aug 2021 15:58:44 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/08/main-route-and-soft-route-use-configuration/</guid>
      <description>软路由配置使用方法 为什么需要使用软路由，是为了不影响原来主路由上网配置，网络环境，增加一个软路由来专门来解析404网站，及特殊的网络连接 满足上网需求，下图就是今天要介绍软路由其中一种设置方法，不影响原</description>
      <content>&lt;h1 id=&#34;软路由配置使用方法&#34;&gt;软路由配置使用方法&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;为什么需要使用软路由，是为了不影响原来主路由上网配置，网络环境，增加一个软路由来专门来解析404网站，及特殊的网络连接&lt;/p&gt;
&lt;p&gt;满足上网需求，下图就是今天要介绍软路由其中一种设置方法，不影响原来的网络环境下，给增加一台软路由方法，ip设置方法&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210811160444222.png&#34; alt=&#34;image-20210811160444222&#34;&gt;&lt;/p&gt;
&lt;p&gt;当电视或者手机需要打开404网站，则需要单独配置 dns 和网关ip,即可正常扶梯&lt;/p&gt;
&lt;p&gt;上图为作者家用宽带  移动运营商300M 速度，上行30M, 下行300M,实际用speedtest测速apk，测试速度上行为4m, 下行为50M/s&lt;/p&gt;
&lt;p&gt;主要设置注意点：&lt;/p&gt;
&lt;p&gt;1,k2p 做为软路由，需要连使用lan口 接入主路由，k2p 自身需要接入lan口 而不是wan 口，接入wan口的话，则会产生的ip和主路由ip不在同一个网段，这样以来你的局域网访问就麻烦，这样默认情况下如果链接的软路由wifi的的手访问不了 群晖，最终你家里如果有多个路由器且都不在同一个网段的话，结果设备访问会多一层nat转发&lt;/p&gt;
&lt;p&gt;2，关于测速，很多朋友对自己家里网速并不关心，不知道自己家里的路由器最大能不能跑满运营商给的网络环境。我经常会碰到运营商打电话给我推销网络提速套餐，然而自己家里路由是个十几年前的百兆路由器tplink的，如果提速成功了，往往网速还停留在原来的样子&lt;/p&gt;
&lt;p&gt;这样是不是很坑，花的网络费用价值缺没有最大化，这里给大家推荐 手机 安装一款speedtest apk ,以后你可以时不时的点击一下测试你自己家里网速情况。当我加装了软路由器后，我再用speedtest 测速，并没有达到理想的值，于是在找原因，也打过几次电话给运营商投诉，后面发现是路由器本身发热温度太高了，导致的网速变慢，于是需要买风扇了，降温效果很明显，再次测试网速，可以正常了&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210811164100204.png&#34; alt=&#34;image-20210811164100204&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Tensorflow Dll Solutions for Missing Files</title>
      <link>https://ltan.me/post/2021/07/tensorflow-dll-solutions-for-missing-files/</link>
      <pubDate>Mon, 26 Jul 2021 10:29:15 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/07/tensorflow-dll-solutions-for-missing-files/</guid>
      <description>TensorFlow DLL Solutions for missing files：cudnn64_8.dll not found&amp;amp;cusolver64_10.dll not found 解决tensorflow在安装最新版本（2.5.0） 时，运行时报错找不到各种dll文件方法。网上有很多的原因，说有因版本太高了，不兼容 还给了什么</description>
      <content>&lt;h1 id=&#34;tensorflow-dll-solutions-for-missing-filescudnn64_8dll-not-foundcusolver64_10dll-not-found&#34;&gt;TensorFlow DLL Solutions for missing files：cudnn64_8.dll not found&amp;amp;cusolver64_10.dll not found&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;解决tensorflow在安装最新版本（2.5.0） 时，运行时报错找不到各种dll文件方法。网上有很多的原因，说有因版本太高了，不兼容&lt;/p&gt;
&lt;p&gt;还给了什么版本对应安装包，反正是折腾了很久，作为tensorflow使用新手，主要是想用用最新版本如何。正好换了台新的笔记本联想工作本本&lt;/p&gt;
&lt;p&gt;legion系统 r7000, 内存32G, CPU amd 4000 series ryzen，显卡nvidia  geforce gtx 1060。最初我按照网上的教程安装很多个版本都试了不行，一气之下，安装最新新版 pip install tensorflow 最新版本如何，什么需要设置pip镜像， 反正都是科学网络了，下载速度也快。&lt;/p&gt;
&lt;p&gt;当前配置的最新的显卡驱动，最新的tensorflow框架版本2.5.0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210726103856956.png&#34; alt=&#34;image-20210726103856956&#34;&gt;&lt;/p&gt;
&lt;p&gt;第一步，更新nvidia 驱动程序 ，去nvidia官网更新，能更新则更新最新版本显卡驱动程序，不能更新则卸载，然后重新安装显卡驱动程序&lt;/p&gt;
&lt;p&gt;​                 去nvidia官网下载一个GeForce_Experience 的软件，用来专门更新显卡驱动程&lt;/p&gt;
&lt;p&gt;第二步下载最新版本的cuda开发工具sdk, 最新版，去官网下载，不要点我这个链接下载，&lt;/p&gt;
&lt;p&gt;​      我最下载最新的是这个链接地址 &lt;a href=&#34;https://developer.download.nvidia.com/compute/cuda/11.4.0/local_installers/cuda_11.4.0_471.11_win10.exe&#34;&gt;https://developer.download.nvidia.com/compute/cuda/11.4.0/local_installers/cuda_11.4.0_471.11_win10.exe&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;​       再次提醒，你去官网下载，不要下载我上面连接。免的版本不兼容&lt;/p&gt;
&lt;p&gt;第三步， 安装最新版本的anaconda3 最版本的&lt;/p&gt;
&lt;p&gt;​      去掉官网下载 &lt;a href=&#34;https://repo.anaconda.com/archive/Anaconda3-2020.11-Windows-x86_64.exe&#34;&gt;https://repo.anaconda.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;第四步，安装tensorflow最新版本&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;​       pip install tensorflow

​       pip install tensorflow-gpu
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;第五步，则试是否正常，运行如下脚本&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; tensorflow &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; tf
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; os
os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;environ[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;TF_CPP_MIN_LOG_LEVEL&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;2&amp;#39;&lt;/span&gt;
a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;constant(&lt;span style=&#34;color:#ae81ff&#34;&gt;1.&lt;/span&gt;)
b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;constant(&lt;span style=&#34;color:#ae81ff&#34;&gt;2.&lt;/span&gt;)
print(a&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;b)
print(tf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;__version__)
print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;GPU:&amp;#39;&lt;/span&gt;, tf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;config&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;list_physical_devices(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;GPU&amp;#39;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;发现运行后报错，找不到各种dll 文件，像如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;D:\anaconda3\python.exe E:/studyProject/python/tensorflow/test4.py
2021-07-26 09:52:07.878136: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cudart64_110.dll
2.5.0
2021-07-26 09:52:20.978421: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library nvcuda.dll
2021-07-26 09:52:21.087958: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties: 
pciBusID: 0000:01:00.0 name: NVIDIA GeForce GTX 1650 computeCapability: 7.5
coreClock: 1.515GHz coreCount: 14 deviceMemorySize: 4.00GiB deviceMemoryBandwidth: 178.84GiB/s
2021-07-26 09:52:21.088759: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cudart64_110.dll
2021-07-26 09:52:22.594321: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cublas64_11.dll
2021-07-26 09:52:22.594571: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cublasLt64_11.dll
2021-07-26 09:52:23.993389: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cufft64_10.dll
2021-07-26 09:52:24.075060: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library curand64_10.dll
2021-07-26 09:52:24.866344: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cusolver64_11.dll
2021-07-26 09:52:25.583784: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cusparse64_11.dll
2021-07-26 09:52:25.586297: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library &#39;cudnn64_8.dll&#39;; dlerror: cudnn64_8.dll not found
2021-07-26 09:52:25.586582: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1766] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.
Skipping registering GPU devices...
2021-07-26 09:52:25.590408: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX AVX2
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2021-07-26 09:52:25.594368: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-07-26 09:52:25.594692: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      
tf.Tensor(3.0, shape=(), dtype=float32)
GPU: []

Process finished with exit code 0

&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;以上问题有两个问题&lt;/p&gt;
&lt;p&gt;1，找 不到&amp;rsquo;cudnn64_8.dll&#39;; dlerror: cudnn64_8.dll not found&lt;/p&gt;
&lt;p&gt;2，GPU: []  gpu不支持，跑tensorflow怎么能没有gpu工作呢，怎么不支持gpu呢&lt;/p&gt;
&lt;p&gt;首先把第一个版本解决&lt;/p&gt;
&lt;p&gt;直接在网站https://www.dll-files.com/search/下载，我上面报错只丢了一个dll 文件，有些人丢一堆，我在这建议安装最新版本cuda,和显卡驱动程序 再测试一下&lt;/p&gt;
&lt;p&gt;下载dll文件后，把它放在cuda 安装目录 bin文件下，具体目录，我的目录如下：&lt;/p&gt;
&lt;p&gt;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.4\bin&lt;/p&gt;
&lt;p&gt;注意NVIDIA GPU Computing Toolkit  这个目录是你下载cuda后，双击解压安装后才会有的这个目录，必须安装，而不是下载下来解压就有的&lt;/p&gt;
&lt;p&gt;安装完后，重启电脑&lt;/p&gt;
&lt;p&gt;再跑一次上面脚本得到如下信息&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;D:\anaconda3\python.exe E:/studyProject/python/tensorflow/test4.py
2021-07-26 10:26:42.976336: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cudart64_110.dll
2021-07-26 10:26:48.285803: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library nvcuda.dll
2021-07-26 10:26:48.337562: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties: 
pciBusID: 0000:01:00.0 name: NVIDIA GeForce GTX 1650 computeCapability: 7.5
coreClock: 1.515GHz coreCount: 14 deviceMemorySize: 4.00GiB deviceMemoryBandwidth: 178.84GiB/s
2021-07-26 10:26:48.338010: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cudart64_110.dll
2021-07-26 10:26:48.357652: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cublas64_11.dll
2021-07-26 10:26:48.357930: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cublasLt64_11.dll
2021-07-26 10:26:48.373414: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cufft64_10.dll
2021-07-26 10:26:48.376599: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library curand64_10.dll
2021-07-26 10:26:48.383979: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cusolver64_11.dll
2021-07-26 10:26:48.392844: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cusparse64_11.dll
2021-07-26 10:26:48.394278: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Successfully opened dynamic library cudnn64_8.dll
2021-07-26 10:26:48.394723: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2021-07-26 10:26:48.395510: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  AVX AVX2
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2021-07-26 10:26:48.398205: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1733] Found device 0 with properties: 
pciBusID: 0000:01:00.0 name: NVIDIA GeForce GTX 1650 computeCapability: 7.5
coreClock: 1.515GHz coreCount: 14 deviceMemorySize: 4.00GiB deviceMemoryBandwidth: 178.84GiB/s
2021-07-26 10:26:48.398921: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1871] Adding visible gpu devices: 0
2021-07-26 10:26:49.488227: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1258] Device interconnect StreamExecutor with strength 1 edge matrix:
2021-07-26 10:26:49.488470: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1264]      0 
2021-07-26 10:26:49.488610: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1277] 0:   N 
2021-07-26 10:26:49.489126: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1418] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2147 MB memory) -&amp;gt; physical GPU (device: 0, name: NVIDIA GeForce GTX 1650, pci bus id: 0000:01:00.0, compute capability: 7.5)
tf.Tensor(3.0, shape=(), dtype=float32)
2.5.0
GPU: [PhysicalDevice(name=&#39;/physical_device:GPU:0&#39;, device_type=&#39;GPU&#39;)]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如下三行是打印的真实结果，上面是tensorflow打印的日志信息&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;｀tf.Tensor(3.0, shape=(), dtype=float32)｀&lt;br&gt;
｀2.5.0｀&lt;br&gt;
｀GPU: [PhysicalDevice(name=&#39;/physical_device:GPU:0&#39;, device_type=&amp;lsquo;GPU&amp;rsquo;)]｀&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;终于看到GPU 中括号里有 信息了，说明gpu生效，安装tensorflow-gpu成功，&lt;/p&gt;
&lt;p&gt;如果你用Anaconda Jupyter Notebook 默认是不会打印 上面日志的，也就是说看不到什么dll 文件丢失&lt;/p&gt;
&lt;p&gt;我用的pycharm ide&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210726110316971.png&#34; alt=&#34;image-20210726110316971&#34;&gt;&lt;/p&gt;
&lt;p&gt;我用pycharm ide 配置的环境 如下，我电脑 安装了很多的python 环境，有代码需要在pycharm 切换python 版本，才能正常跑起来，比如我的tensorflow2.5.0 是要用Python 3.8.8才能跑的。 就是如下设置&lt;/p&gt;
&lt;p&gt;下面就是我安装的tensorflow 相关依赖包&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210726110516851.png&#34; alt=&#34;image-20210726110516851&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>My Python2.7 Notes</title>
      <link>https://ltan.me/post/2021/07/my-python2.7-notes/</link>
      <pubDate>Wed, 21 Jul 2021 20:43:52 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/07/my-python2.7-notes/</guid>
      <description>python 日常笔记 记录工作要用的python 使用工具，或者常用的代码片段。 Python 是一种解释型语言： 这意味着开发过程中没有了编译这个环节。类似于PHP和Perl语言。Python 是交互式语言： 这意味着，您可以在一个</description>
      <content>&lt;h1 id=&#34;python-日常笔记&#34;&gt;python 日常笔记&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;记录工作要用的python 使用工具，或者常用的代码片段。 Python 是一种解释型语言： 这意味着开发过程中没有了编译这个环节。类似于PHP和Perl语言。Python 是交互式语言： 这意味着，您可以在一个 Python 提示符 &amp;raquo;&amp;gt; 后直接执行代码。Python 是面向对象语言: 这意味着Python支持面向对象的风格或代码封装在对象的编程技术。Python 是初学者的语言：Python 对初级程序员而言，是一种伟大的语言，它支持广泛的应用程序开发，从简单的文字处理到 WWW 浏览器再到游戏。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;时间转换&#34;&gt;时间转换&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; datetime &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; time
date_time &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fromtimestamp(long(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1528797322&amp;#34;&lt;/span&gt;))
print date_time&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strftime(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%Y-%m-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, %H:%M:%S&amp;#34;&lt;/span&gt;)
 
 
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; datetime
date1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strptime(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2019-12-11 09:35:10&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%Y-%m-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; %H:%M:%S&amp;#34;&lt;/span&gt;)
a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;datetime(date1[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;],date1[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;],date1[&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;],date1[&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;],date1[&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;],date1[&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;])
 
 
strftime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strptime(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2017-11-02 09:31:10&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%Y-%m-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; %H:%M:%S&amp;#34;&lt;/span&gt;)
strftime2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strptime(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2017-11-02 09:30:10&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%Y-%m-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; %H:%M:%S&amp;#34;&lt;/span&gt;)
print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;32&amp;#34;&lt;/span&gt;,strftime&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;strftime2)
 
 
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; datetime &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; time
print datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;now()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;timetuple()
print time&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;mktime(datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;now()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;timetuple())
 
 
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; datetime
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; time
date1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; time&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strptime(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2019-12-11 09:35:10&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%Y-%m-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; %H:%M:%S&amp;#34;&lt;/span&gt;)
print long(time&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;mktime(date1) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;where-in-mysql-使用&#34;&gt;where in mysql 使用&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_config_list&lt;/span&gt;(conn, cur, aid, keys):
 sql &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;select `key`,label from config where id = &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; and `key` in (&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;) &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (
    aid, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;join([&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; len(keys)))
    cur&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;execute(sql, keys)
    data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cur&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fetchall()
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;实现类似java-stream-grouping-by-to-map-效果&#34;&gt;实现类似java stream grouping by to map 效果&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;clist &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; get_config_list(conn, cur,item[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;],keys)
print clist
clist &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {v[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;key&amp;#39;&lt;/span&gt;]:v[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;label&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i, v &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; enumerate(clist)}
print clist
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;三目表达式应用&#34;&gt;三目表达式应用&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;device[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ram_size&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ram_size&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
 
device[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;reso&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;resolution&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;resolution&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
 
device[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;viseo&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content_source&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content_source&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
 
device[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sourname&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;source&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;source&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
 
device[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;brad&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;brand&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; clist[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;brand&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;批量插入mysql&#34;&gt;批量插入mysql&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executemany( &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&amp;#34;INSERT INTO breakfast (name, spam, eggs, sausage, price) VALUES (&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;, [ (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Spam and Sausage Lover&amp;#39;s Plate&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;7.95&lt;/span&gt; ), (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not So Much Spam Plate&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3.95&lt;/span&gt; ), (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Don&amp;#39;t Wany ANY SPAM! Plate&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5.95&lt;/span&gt; ) ] )
&lt;span style=&#34;color:#75715e&#34;&gt;#so in your case:&lt;/span&gt;
c&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executemany(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;insert into T (F1,F2) values (&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&lt;/span&gt;, [(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;b&amp;#39;&lt;/span&gt;),(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;c&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;d&amp;#39;&lt;/span&gt;)])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
    </item>
    
    <item>
      <title>Mathematical Concepts Ai Learing Section 2</title>
      <link>https://ltan.me/post/2021/07/mathematical-concepts-ai-learing-section-2/</link>
      <pubDate>Fri, 09 Jul 2021 16:23:39 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/07/mathematical-concepts-ai-learing-section-2/</guid>
      <description>AI学习&amp;ndash;数学基础概念 绝对值 绝对值是指一个数在数轴上所对应点到原点的距离，例如，3的绝对值为3，-3的绝对值也为3。数字的绝对值可以被认为是与零的距离。 应用举例： from keras import backend as K # b是生成一个</description>
      <content>&lt;h1 id=&#34;ai学习--数学基础概念&#34;&gt;AI学习&amp;ndash;数学基础概念&lt;/h1&gt;
&lt;h4 id=&#34;绝对值&#34;&gt;绝对值&lt;/h4&gt;
&lt;p&gt;绝对值是指一个数在数轴上所对应点到原点的距离，例如，3的绝对值为3，-3的绝对值也为3。数字的绝对值可以被认为是与零的距离。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;应用举例：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; keras &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; backend &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; K
&lt;span style=&#34;color:#75715e&#34;&gt;# b是生成一个4x4 二维 -1 ~ 0 的随机数&lt;/span&gt;
b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; K&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;random_uniform_variable(shape&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;), low&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, high&lt;span style=&#34;color:#f92672&#34;&gt;=-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# 均匀分布&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# 原始打印&lt;/span&gt;
print(b)
&lt;span style=&#34;color:#75715e&#34;&gt;# 取绝对值后打印&lt;/span&gt;
print(K&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;abs(b))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;输出结果&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#原始数据打印，一个二维张量，4x4列的数据&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;tf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Variable &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Variable:0&amp;#39;&lt;/span&gt; shape&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;) dtype&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;float32, numpy&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;
array([[&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.9059057&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.58264804&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.9395989&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.39963734&lt;/span&gt;],
       [&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.1112231&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5067514&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.10375643&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.6551852&lt;/span&gt; ],
       [&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.8337679&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.778535&lt;/span&gt;  , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.7544004&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5426916&lt;/span&gt; ],
       [&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.09164572&lt;/span&gt;, &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.6224438&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.2649765&lt;/span&gt; , &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.45468187&lt;/span&gt;]],
      dtype&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;float32)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
      
&lt;span style=&#34;color:#75715e&#34;&gt;#取绝对值后的结果&lt;/span&gt;
tf&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Tensor(
[[&lt;span style=&#34;color:#ae81ff&#34;&gt;0.9059057&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.58264804&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.9395989&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.39963734&lt;/span&gt;]
 [&lt;span style=&#34;color:#ae81ff&#34;&gt;0.1112231&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5067514&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.10375643&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.6551852&lt;/span&gt; ]
 [&lt;span style=&#34;color:#ae81ff&#34;&gt;0.8337679&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.778535&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0.7544004&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5426916&lt;/span&gt; ]
 [&lt;span style=&#34;color:#ae81ff&#34;&gt;0.09164572&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.6224438&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2649765&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;0.45468187&lt;/span&gt;]], shape&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;), dtype&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;float32)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
    </item>
    
    <item>
      <title>Anaconda Modify the Domestic Mirror Ai Learning Section 1</title>
      <link>https://ltan.me/post/2021/07/anaconda-modify-the-domestic-mirror-ai-learning-section-1/</link>
      <pubDate>Thu, 08 Jul 2021 20:58:37 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/07/anaconda-modify-the-domestic-mirror-ai-learning-section-1/</guid>
      <description>我的AI学习第一课 Anaconda 修改镜像源 为什么要修改镜像源，因为初次使用anaconda 发现下载太慢了，都是从官网服务器拉取模块，需要 等很漫长时间， 因此网上找了一上镜像源和修改源的方法，就用清华大学的源 [https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/](https://link.jianshu.com/?t=https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/) 大概分</description>
      <content>&lt;h1 id=&#34;我的ai学习第一课-anaconda-修改镜像源&#34;&gt;我的AI学习第一课 Anaconda 修改镜像源&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;为什么要修改镜像源，因为初次使用anaconda 发现下载太慢了，都是从官网服务器拉取模块，需要 等很漫长时间，&lt;/p&gt;
&lt;p&gt;因此网上找了一上镜像源和修改源的方法，就用清华大学的源&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/](https://link.jianshu.com/?t=https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;大概分为三步&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;1首先找到conda安装目录&#34;&gt;1、首先找到conda安装目录&lt;/h2&gt;
&lt;p&gt;这里我安装在&lt;code&gt;D:\anaconda3&lt;/code&gt;  然后找到&lt;code&gt;condabin&lt;/code&gt;目录&lt;/p&gt;
&lt;p&gt;在地址输入 &lt;code&gt;cmd&lt;/code&gt; 命令并回车执行，在弹窗的cmd 窗口输入以下两条命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;此时，目录 C:\Users&amp;lt;你的用户名&amp;gt; 下就会生成配置文件.condarc，内容如下：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\U&lt;/span&gt;sers&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;dmin&amp;gt;type .condarc
channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
  - defaults
show_channel_urls: true
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;2修改配置文件&#34;&gt;2、修改配置文件&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;删除上述配置文件 .condarc 中的第三行，然后保存，最终版本文件如下：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
show_channel_urls: true
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;3查看是生否生效&#34;&gt;3、查看是生否生效&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;通过命令 conda info 查看当前配置信息，内容如下，即修改成功，关注 channel URLs 字段内容&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;D:&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;naconda3&lt;span style=&#34;color:#ae81ff&#34;&gt;\c&lt;/span&gt;ondabin&amp;gt;conda info

     active environment : None
       user config file : C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\U&lt;/span&gt;sers&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;dmin&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;condarc
 populated config files : C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\U&lt;/span&gt;sers&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;dmin&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;condarc
          conda version : 4.10.3
    conda-build version : 3.21.4
         python version : 3.8.8.final.0
       virtual packages : __cuda&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;11.0&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
                          __win&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;0&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
                          __archspec&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;x86_64
       base environment : D:&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;naconda3  &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;writable&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
      conda av data dir : D:&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;naconda3&lt;span style=&#34;color:#ae81ff&#34;&gt;\e&lt;/span&gt;tc&lt;span style=&#34;color:#ae81ff&#34;&gt;\c&lt;/span&gt;onda
  conda av metadata url : None
           channel URLs : https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/win-64
                          https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/noarch
                          https://repo.anaconda.com/pkgs/main/win-64
                          https://repo.anaconda.com/pkgs/main/noarch
                          https://repo.anaconda.com/pkgs/r/win-64
                          https://repo.anaconda.com/pkgs/r/noarch
                          https://repo.anaconda.com/pkgs/msys2/win-64
                          https://repo.anaconda.com/pkgs/msys2/noarch
          package cache : D:&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;naconda3&lt;span style=&#34;color:#ae81ff&#34;&gt;\p&lt;/span&gt;kgs
                          C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\U&lt;/span&gt;sers&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;dmin&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;conda&lt;span style=&#34;color:#ae81ff&#34;&gt;\p&lt;/span&gt;kgs
                          C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\U&lt;/span&gt;sers&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;dmin&lt;span style=&#34;color:#ae81ff&#34;&gt;\A&lt;/span&gt;ppData&lt;span style=&#34;color:#ae81ff&#34;&gt;\L&lt;/span&gt;ocal&lt;span style=&#34;color:#ae81ff&#34;&gt;\c&lt;/span&gt;onda&lt;span style=&#34;color:#ae81ff&#34;&gt;\c&lt;/span&gt;onda&lt;span style=&#34;color:#ae81ff&#34;&gt;\p&lt;/span&gt;kgs
       envs directories : D:&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;naconda3&lt;span style=&#34;color:#ae81ff&#34;&gt;\e&lt;/span&gt;nvs
                          C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\U&lt;/span&gt;sers&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;dmin&lt;span style=&#34;color:#ae81ff&#34;&gt;\.&lt;/span&gt;conda&lt;span style=&#34;color:#ae81ff&#34;&gt;\e&lt;/span&gt;nvs
                          C:&lt;span style=&#34;color:#ae81ff&#34;&gt;\U&lt;/span&gt;sers&lt;span style=&#34;color:#ae81ff&#34;&gt;\a&lt;/span&gt;dmin&lt;span style=&#34;color:#ae81ff&#34;&gt;\A&lt;/span&gt;ppData&lt;span style=&#34;color:#ae81ff&#34;&gt;\L&lt;/span&gt;ocal&lt;span style=&#34;color:#ae81ff&#34;&gt;\c&lt;/span&gt;onda&lt;span style=&#34;color:#ae81ff&#34;&gt;\c&lt;/span&gt;onda&lt;span style=&#34;color:#ae81ff&#34;&gt;\e&lt;/span&gt;nvs
               platform : win-64
             user-agent : conda/4.10.3 requests/2.25.1 CPython/3.8.8 Windows/10 Windows/10.0.19041
          administrator : True
             netrc file : None
           offline mode : False
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;很明显我上述加的 清华镜像源 己成功了，&lt;code&gt;win-64&lt;/code&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Phicomm Router Upgrade System to Openwrt</title>
      <link>https://ltan.me/post/2021/07/phicomm-router-upgrade-system-to-openwrt/</link>
      <pubDate>Fri, 02 Jul 2021 14:40:17 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/07/phicomm-router-upgrade-system-to-openwrt/</guid>
      <description>OpenWrt Lede 系统 刷入 k2p 路由器 记录一下，过去经常用的k2p 刷入老毛子系统【padavan】 不用选闪存布局，分分钟成功刷入。但这次刷入OpenWrt 时发现死活进去路由器登录界面。经过在恩山发贴求助终于解决，感谢恩</description>
      <content>&lt;h1 id=&#34;openwrt-lede-系统-刷入-k2p-路由器&#34;&gt;OpenWrt Lede 系统 刷入 k2p 路由器&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;记录一下，过去经常用的k2p 刷入老毛子系统【padavan】 不用选闪存布局，分分钟成功刷入。但这次刷入OpenWrt 时发现死活进去路由器登录界面。经过在恩山发贴求助终于解决，感谢恩山大神们，真的很厉害！
我刷入步骤是都先复位的，长按复位键 8到10秒，松开，
然后上传&lt;code&gt;openwrt-ramips-mt7621-phicomm_k2p-initramfs-kernel.binn &lt;/code&gt;文件，
然后点击更新，重启，就是不能进入&lt;code&gt;openwrt&lt;/code&gt; 系统路由系统，关键是&lt;code&gt;openwrt wifi ssid &lt;/code&gt;搜索不到，没看到， 说明刷入不成功，我用网线链接电脑 ，电脑网线插上都不能有正常的&lt;code&gt;ip&lt;/code&gt; 获取到&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;登录界面如下图, 打开 http://192.168.10.10 就可以进入，如果找不到ip是多少，可以用ipconfig查看，必须是电脑 网线有线连接到 k2p lan口&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210702144843102.png&#34; alt=&#34;image-20210702144843102&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;默认用户名 &lt;code&gt;root&lt;/code&gt;   密码 &lt;code&gt;password&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210702144651741.png&#34; alt=&#34;image-20210702144651741&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;刷入失败导致路由器不能工作，重新解决步骤   记录一下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210702145346377.png&#34; alt=&#34;image-20210702145346377&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Solve the Startup Problem of Nano Disk Manager Zerotier</title>
      <link>https://ltan.me/post/2021/06/solve-the-startup-problem-of-nano-disk-manager-zerotier/</link>
      <pubDate>Tue, 15 Jun 2021 16:06:18 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/06/solve-the-startup-problem-of-nano-disk-manager-zerotier/</guid>
      <description>解决[贝壳云]小刚炮系统（Nano Disk Manager） zerotier 开机启动问题 在网上找了很多的教程，有很相关做开机启动 zerotier 客户端，我都没有成功，好几次由于停电导致的 盒子启动后并没有启动zerotier 客户端。出门在</description>
      <content>&lt;h1 id=&#34;解决贝壳云小刚炮系统nano-disk-manager-zerotier-开机启动问题&#34;&gt;解决[贝壳云]小刚炮系统（Nano Disk Manager） zerotier 开机启动问题&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;在网上找了很多的教程，有很相关做开机启动 zerotier 客户端，我都没有成功，好几次由于停电导致的 盒子启动后并没有启动zerotier 客户端。出门在外没有远程服务真的很不方便。经过折腾好一阵子找到一个解决方法如下&lt;/p&gt;
&lt;h5 id=&#34;找到原来开机启动脚本没有的话添加即可-etcinitds50zerotiersh&#34;&gt;找到原来开机启动脚本,没有的话添加即可 /etc/init.d/S50zerotier.sh&lt;/h5&gt;
&lt;h5 id=&#34;把如下代码新建startup_zerotiersh文件写入如下代码内容保存在root目录下&#34;&gt;把如下代码，新建startup_zerotier.sh文件，写入如下代码内容，保存在/root目录下&lt;/h5&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt; 
#!/bin/sh
program=zerotier
sn=`ps -ef | grep program | grep -v grep |awk &#39;{print $2}&#39;`
if [ &amp;quot;${sn}&amp;quot; = &amp;quot;&amp;quot; ]
then
  sh /etc/init.d/S50zerotier.sh
  echo start ok !
else
  echo running
fi
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;h5 id=&#34;在小刚炮系统后台打开任务执行菜单栏添加-计划任务为每隔2分钟启动该脚本即可&#34;&gt;在小刚炮系统后台，打开任务执行菜单栏，添加 计划任务为每隔2分钟启动该脚本即可&lt;/h5&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;image-20210702145944040.png&#34; alt=&#34;image-20210702145944040&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>How to Set Kodi to Start Playing Content</title>
      <link>https://ltan.me/post/2021/06/how-to-set-kodi-to-start-playing-content/</link>
      <pubDate>Sun, 13 Jun 2021 07:09:39 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/06/how-to-set-kodi-to-start-playing-content/</guid>
      <description>我是如何在coreelec系统设置开机自动播放视频列表的 手里空闲N1盒子一台，刷了coreelec 系统，本质为kodi播放器，起初想配合小米智能插座 + n1盒子+显示器+音箱 打造一台家用融媒体diy宣传</description>
      <content>&lt;h1 id=&#34;我是如何在coreelec系统设置开机自动播放视频列表的&#34;&gt;&lt;strong&gt;我是如何在coreelec系统设置开机自动播放视频列表的&lt;/strong&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;手里空闲N1盒子一台，刷了coreelec 系统，本质为kodi播放器，起初想配合小米智能插座 + n1盒子+显示器+音箱&lt;/p&gt;
&lt;p&gt;打造一台家用融媒体diy宣传广告机,设置定时开关机，定时播放指定内容，比如每天早上播放《三字经》《刷牙》，每天中午播放《交通安全》，晚上播放《护眼宣导片》&lt;/p&gt;
&lt;p&gt;等三个.mp4文件。于是翻了一下kodi技术开发论坛，就有了以下成果&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;原论坛：https://forum.kodi.tv/showthread.php?tid=157120&lt;/p&gt;
&lt;p&gt;解决方法：&lt;/p&gt;
&lt;p&gt;​     用electerm ssh管理软件登录到kodi 系统，在/storage/.kodi/userdata/ 目录下 创建 autoexec.py 文件 ，输入代码如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; xbmc 
xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayMedia(/storage/ad/test.m3u)&amp;#34;&lt;/span&gt;)
xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin( &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;XBMC.SetVolume(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;56&lt;/span&gt;)) &lt;span style=&#34;color:#75715e&#34;&gt;# 设置音量，这个很有用，比如早上闹钟模式可以设置大一点，晚上睡觉前可以小一点声音，这里的脚本是在nas 群晖系统自动生成，采用定时任务生成的，然后在kodi设备做了开机启动挂载nfs共享实现的&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;test.m3u我这里只是测试音视频列表，你可以用nas nfs 接入就可以，做一个软链接即可读取&lt;/p&gt;
&lt;p&gt;test.m3u为播放列表，该文件是生成的，生成工具在这里，也可以制混合m3u播放列表，包含本地播放，在线链接播放&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Isayso/PlaylistEditorTV&#34;&gt;Isayso/PlaylistEditorTV: IPTV m3u list Editor/Player for Windows with Kodi support (github.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210613072200142.png&#34; alt=&#34;image-20210613072200142&#34;&gt;&lt;/p&gt;
&lt;p&gt;设备实际播放效果图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210613072552887.png&#34; alt=&#34;image-20210613072552887&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;最后推荐一款-快控-app-非常好用配合ddnsto远程控制相当完美&#34;&gt;最后推荐一款 &lt;code&gt;快控&lt;/code&gt; APP 非常好用，配合ddnsto远程控制相当完美&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;img src=&#34;image-20210615162652341.png&#34; alt=&#34;image-20210615162652341&#34;&gt;&lt;/th&gt;
&lt;th&gt;&lt;img src=&#34;image-20210615162617390.png&#34; alt=&#34;image-20210615162617390&#34;&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;/table&gt;
&lt;h1 id=&#34;注意事项总结&#34;&gt;注意事项总结&lt;/h1&gt;
&lt;p&gt;本场景需求是：让n1 kodi 设备 音视频播放器，开机自动播放，并根据早，中，晚，周末，节假日特证来设置不同播放内容，内容可以是&lt;/p&gt;
&lt;p&gt;网络采集的在线视频，在线新闻，音乐，Youtube频道自动播放等等，诸如此类，&lt;/p&gt;
&lt;p&gt;需要注意以下几点：&lt;/p&gt;
&lt;p&gt;1，通过小米智能插座，控制开关机时段，比如早上时间段为6：00 ~ 8：00， 中午时间段11：00 ~ 14：00 ， 晚上时间段：17：30 ~ 21：00&lt;/p&gt;
&lt;p&gt;2，内容通过群晖计划任务，定时生成播放计划脚本，以及播放内容&lt;/p&gt;
&lt;p&gt;3，播放列表根据自己喜好，分类制作不同的分类播放列表&lt;/p&gt;
&lt;p&gt;​      如国学单独一个播放列表，流行music一个播放列表，背景音乐，睡前音乐等等&lt;/p&gt;
&lt;p&gt;播放列表是自己生成的播放列表.m3u格式如下文件&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-m3u&#34; data-lang=&#34;m3u&#34;&gt;#EXTCPlayListM3U::M3U
#EXTINF:0,高枫 - 大中国
/storage/recordings/mp3/高枫 - 大中国.mp3
#EXTINF:0,下山
/storage/recordings/01.下山.flac
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;开机自动播放脚本存储位置 &lt;code&gt;/storage/.kodi/userdata/autoexec.py&lt;/code&gt;  代码内容如下，根据自身需求定制&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; xbmc
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; datetime

today &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;date&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;today()
d &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;now()
now &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; today&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;day
dayOfWeek &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; int(d&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;weekday())
cur_hour &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; int(getattr(d, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;hour&amp;#39;&lt;/span&gt;))
cur_minute &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; int(getattr(d, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;minute&amp;#39;&lt;/span&gt;))

&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(dayOfWeek&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; dayOfWeek &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;):
	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(cur_hour &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; cur_hour &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; cur_minute &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; cur_minute &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;59&lt;/span&gt;):
		xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayMedia(/storage/ad/go2school.m3u)&amp;#34;&lt;/span&gt;)
		xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;XBMC.SetVolume(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;))
		xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayerControl(repeatall)&amp;#34;&lt;/span&gt;)
	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(cur_hour &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;and&lt;/span&gt; cur_hour &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;):
		xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayMedia(/storage/ad/bj.m3u)&amp;#34;&lt;/span&gt;)
		xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;XBMC.SetVolume(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;75&lt;/span&gt;))
		xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayerControl(repeatall)&amp;#34;&lt;/span&gt;)
&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
	xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayMedia(/storage/ad/playlist.m3u)&amp;#34;&lt;/span&gt;)
	xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;XBMC.SetVolume(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;)&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;48&lt;/span&gt;))
	xbmc&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;executebuiltin(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;PlayerControl(repeatoff)&amp;#34;&lt;/span&gt;)

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其播放计划脚本为autoexec.py 脚本 需要根据不同日期判断音量，不同时间段判断播放内容&lt;/p&gt;
&lt;p&gt;m3u 文件格式制作请参考文档：&lt;a href=&#34;https://en.wikipedia.org/wiki/M3U&#34;&gt;M3U - Wikipedia&lt;/a&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Abacus Mental Arithmetic Problem Generation</title>
      <link>https://ltan.me/post/2021/06/abacus-mental-arithmetic-problem-generation/</link>
      <pubDate>Tue, 01 Jun 2021 09:33:32 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/06/abacus-mental-arithmetic-problem-generation/</guid>
      <description>珠心算二笔、三笔、五笔、十笔一位加减混合计算题自动生成 珠算是以算盘为工具，数学理论为基础，运用手指拨珠，进行运算的一门计算技术，它是我国古代劳动人民重要的发明创造之一，千百年来这一技术不断扩散，传播到</description>
      <content>&lt;h1 id=&#34;珠心算二笔三笔五笔十笔一位加减混合计算题自动生成&#34;&gt;珠心算二笔、三笔、五笔、十笔一位加减混合计算题自动生成&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;珠算是以算盘为工具，数学理论为基础，运用手指拨珠，进行运算的一门计算技术，它是我国古代劳动人民重要的发明创造之一，千百年来这一技术不断扩散，传播到世界各国，推进着人类文明的发展历程。&lt;/p&gt;
&lt;p&gt;珠心算只有三个符号即1、5和0;数学有10个符号，即0、1、2、3、4、5、6、7、8、9。可见珠心算运算的简捷性。珠心算的直观模型作用能培养小孩子的数学概念能力，珠心算的分析模型作用能帮助小孩子理解应用题的结构关系和数量关系，提高解题能力。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;./zhuxinsuanpang.jpg&#34; alt=&#34;珠心算盘&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这几天看到娃娘，在用办公软件excel 给5岁娃出题，一页一页的打印出来, 很费劲&lt;/p&gt;
&lt;p&gt;我说这个可以写个程序自动生成出来，更快。不用这么幸苦&lt;/p&gt;
&lt;p&gt;开始我不太了解珠心算的规则，后面翻了资料，还真不是随便10以内的加减组合。有一定的规则，如上文章开头所描述&lt;/p&gt;
&lt;h3 id=&#34;出题要求规则如下&#34;&gt;出题要求规则如下:&lt;/h3&gt;
&lt;p&gt;加法&lt;br&gt;
&lt;code&gt;1&lt;/code&gt;可以加&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;3&lt;/code&gt;，&lt;code&gt;5&lt;/code&gt;，&lt;code&gt;6&lt;/code&gt;，&lt;code&gt;7&lt;/code&gt;，&lt;code&gt;8&lt;/code&gt;&lt;br&gt;
&lt;code&gt;2&lt;/code&gt;可以加&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;5&lt;/code&gt;，&lt;code&gt;6&lt;/code&gt;，&lt;code&gt;7&lt;/code&gt;&lt;br&gt;
&lt;code&gt;3&lt;/code&gt;可以加&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;5&lt;/code&gt;，&lt;code&gt;6&lt;/code&gt;&lt;br&gt;
&lt;code&gt;4&lt;/code&gt;可以加&lt;code&gt;5&lt;/code&gt;&lt;br&gt;
&lt;code&gt;5&lt;/code&gt;可以加&lt;code&gt;4&lt;/code&gt;&lt;br&gt;
&lt;code&gt;6&lt;/code&gt;可以加&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;3&lt;/code&gt;&lt;br&gt;
&lt;code&gt;7&lt;/code&gt;可以加&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;&lt;br&gt;
&lt;code&gt;8&lt;/code&gt;可以加&lt;code&gt;1&lt;/code&gt;&lt;br&gt;
减法&lt;br&gt;
&lt;code&gt;9&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;3&lt;/code&gt;，&lt;code&gt;4&lt;/code&gt;，&lt;code&gt;5&lt;/code&gt;，&lt;code&gt;6&lt;/code&gt;，&lt;code&gt;7&lt;/code&gt;，&lt;code&gt;8&lt;/code&gt;，&lt;code&gt;9&lt;/code&gt;&lt;br&gt;
&lt;code&gt;8&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;3&lt;/code&gt;，&lt;code&gt;5&lt;/code&gt;，&lt;code&gt;6&lt;/code&gt;，&lt;code&gt;7&lt;/code&gt;，&lt;code&gt;8&lt;/code&gt;&lt;br&gt;
&lt;code&gt;7&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;5&lt;/code&gt;，&lt;code&gt;6&lt;/code&gt;，&lt;code&gt;7&lt;/code&gt;&lt;br&gt;
&lt;code&gt;6&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;5&lt;/code&gt;，&lt;code&gt;6&lt;/code&gt;&lt;br&gt;
&lt;code&gt;5&lt;/code&gt;可以减&lt;code&gt;5&lt;/code&gt;&lt;br&gt;
&lt;code&gt;4&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;3&lt;/code&gt;，&lt;code&gt;4&lt;/code&gt;&lt;br&gt;
&lt;code&gt;3&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;，&lt;code&gt;3&lt;/code&gt;&lt;br&gt;
&lt;code&gt;2&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;，&lt;code&gt;2&lt;/code&gt;&lt;br&gt;
&lt;code&gt;1&lt;/code&gt;可以减&lt;code&gt;1&lt;/code&gt;&lt;br&gt;
&lt;code&gt;1-9&lt;/code&gt;都可以加减&lt;code&gt;0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;出&lt;code&gt;五笔&lt;/code&gt;到&lt;code&gt;十笔&lt;/code&gt;的题&lt;/p&gt;
&lt;p&gt;要求计算结果不能是负数，结果不能大于10&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;于是就有以下代码&#34;&gt;于是就有以下代码&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# -*- coding=utf-8 -*-&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; sys
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; random
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; datetime
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; openpyxl &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Workbook
wb &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Workbook()
ws &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; wb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;active
reload(sys)
sys&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;setdefaultencoding(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;)
var &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {}
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add1&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add2&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add3&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add4&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add5&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add6&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add7&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add8&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add9&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add0&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub9&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub8&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub7&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub6&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub5&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub4&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub3&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub2&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub1&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]
var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub0&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]
sa &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {
    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;,
    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;+&amp;#34;&lt;/span&gt;
}
&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getNum&lt;/span&gt;():
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;randrange(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getU&lt;/span&gt;(f):
    u &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;randrange(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; f&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;:
        f &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;randrange(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (u &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;):
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;+&amp;#34;&lt;/span&gt;,var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;add&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; f]
    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;, var[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;sub&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; f]
&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getV&lt;/span&gt;(a):
    al &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; len(a)
    qz &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (al &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;):
        qz &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;randrange(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, al)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; qz
&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getRes&lt;/span&gt;(a,b,u):
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(u&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;+&amp;#34;&lt;/span&gt;):
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;b
    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; a&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;b
&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;recursive_formula&lt;/span&gt;(num,count,arr):
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(arr)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
      arr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(str(num))
    u1, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getU(num)
    count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; count&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;:
        v &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; a[getV(a)]
        arr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(str(u1))
        arr&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(str(v))
        r &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; getRes(num,v,u1)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; recursive_formula(r, count, arr)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; arr 
data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
cell &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#生成excel 4列表格&lt;/span&gt;
total &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#生成100题&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;:
    a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; recursive_formula(getNum(), &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, [])
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(data)&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt;total:
        &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; a:
        data&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;join(a) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;=&amp;#34;&lt;/span&gt;)

print &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;共&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;题&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; len(data)
rows &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; item &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; data:
    rows&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(item)
    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len(rows)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;cell:
        ws&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(rows)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;del&lt;/span&gt; rows[:]
version &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;datetime&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;now()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;strftime(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;%Y%m&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%H%M%S&amp;#39;&lt;/span&gt;)
wb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;save(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;珠心算题目生成-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%d&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;%s&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;.xlsx&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; (cell,len(data),version))
wb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;最终生成效果如下，请自行调整打印格式&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210601102211603.png&#34; alt=&#34;image-20210601102211603&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Application Based on lua-resty-balancer</title>
      <link>https://ltan.me/post/2021/05/application-based-on-lua-resty-balancer/</link>
      <pubDate>Sun, 30 May 2021 12:46:19 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/application-based-on-lua-resty-balancer/</guid>
      <description>基于openresty lua-resty-balancer 模块实现自定义分流功能 该模块为提供分流算法，抽离了hash算法, roundrobin轮询等，好处使业务灵活调用算法而分配对像。该对像不一定指服务器，也可以是数据对像或文件对像等</description>
      <content>&lt;h1 id=&#34;基于openresty--lua-resty-balancer-模块实现自定义分流功能&#34;&gt;基于openresty  lua-resty-balancer 模块实现自定义分流功能&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;该模块为提供分流算法，抽离了hash算法, roundrobin轮询等，好处使业务灵活调用算法而分配对像。该对像不一定指服务器，也可以是数据对像或文件对像等等&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1，下载https://github.com/openresty/lua-resty-balancer&lt;/p&gt;
&lt;p&gt;编译安装balancer&lt;/p&gt;
&lt;p&gt;在&lt;a href=&#34;https://github.com/openresty/lua-resty-balancer&#34;&gt;lua-resty-balancer&lt;/a&gt;目录下执行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt; gcc -O2 -fPIC -I/usr/local/include -c chash.c -o chash.o

 gcc -shared -o librestychash.so chash.o
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将编译后的so文件存放在openresty 安装目录下的lualib 文件夹下即可，&lt;/p&gt;
&lt;p&gt;把 chash.lua   roundrobin.lua    两个文件复制到lualib/resty 目录下即可&lt;/p&gt;
&lt;p&gt;2，应用业务代码&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-nginx&#34; data-lang=&#34;nginx&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;worker_processes&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;span style=&#34;color:#66d9ef&#34;&gt;error_log&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;logs/error.log&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;debug&lt;/span&gt;;
&lt;span style=&#34;color:#66d9ef&#34;&gt;events&lt;/span&gt; {
    &lt;span style=&#34;color:#f92672&#34;&gt;worker_connections&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;;
}

&lt;span style=&#34;color:#66d9ef&#34;&gt;http&lt;/span&gt; {
    &lt;span style=&#34;color:#f92672&#34;&gt;init_by_lua_block&lt;/span&gt; {
	    &lt;span style=&#34;color:#f92672&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;resty_chash&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;resty.chash&amp;#34;&lt;/span&gt;
		&lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;cjson&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;require(&amp;#34;cjson.safe&amp;#34;)&lt;/span&gt;
        &lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;object_list_1999&lt;/span&gt; = {
            &lt;span style=&#34;color:#f92672&#34;&gt;[&amp;#34;1985&amp;#34;]&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;,&lt;/span&gt;
            &lt;span style=&#34;color:#e6db74&#34;&gt;[&amp;#34;1986&amp;#34;]&lt;/span&gt; = &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;
        &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
        &lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;str_null&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;string.char(0)&lt;/span&gt;
        &lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;pids,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;nodes&lt;/span&gt; = {}&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; {}
        &lt;span style=&#34;color:#f92672&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;pid,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;weight&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;pairs(object_list_1999)&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;do&lt;/span&gt;
            &lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;id&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;string.gsub(pid,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:&amp;#34;,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;str_null)&lt;/span&gt; 
            &lt;span style=&#34;color:#e6db74&#34;&gt;pids[id]&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;pid&lt;/span&gt;
            &lt;span style=&#34;color:#e6db74&#34;&gt;nodes[id]&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;weight&lt;/span&gt;
        &lt;span style=&#34;color:#e6db74&#34;&gt;end&lt;/span&gt;
        &lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;chash_up&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;resty_chash:new(nodes)&lt;/span&gt;
        &lt;span style=&#34;color:#e6db74&#34;&gt;package.loaded.my_chash_up_1999&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;chash_up&lt;/span&gt;
        &lt;span style=&#34;color:#e6db74&#34;&gt;package.loaded.my_ids_1999&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;pids&lt;/span&gt;
	&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
    &lt;span style=&#34;color:#e6db74&#34;&gt;server&lt;/span&gt; {
        &lt;span style=&#34;color:#f92672&#34;&gt;listen&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;;
		&lt;span style=&#34;color:#f92672&#34;&gt;charset&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;utf-8&lt;/span&gt;;
        &lt;span style=&#34;color:#f92672&#34;&gt;location&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;/fpId&lt;/span&gt; {
		    &lt;span style=&#34;color:#f92672&#34;&gt;default_type&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;text/html&lt;/span&gt;;
			&lt;span style=&#34;color:#f92672&#34;&gt;content_by_lua_block&lt;/span&gt; {
				&lt;span style=&#34;color:#f92672&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;args,&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;err&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;ngx.req.get_uri_args()&lt;/span&gt;
				&lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;userId&lt;/span&gt;  = &lt;span style=&#34;color:#e6db74&#34;&gt;args[&amp;#34;userId&amp;#34;]&lt;/span&gt;
				&lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;chash_up&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;package.loaded.my_chash_up_1999&lt;/span&gt;
				&lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;pid&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;package.loaded.my_ids_1999&lt;/span&gt;
				&lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;id&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;chash_up:find(userId)&lt;/span&gt;
				&lt;span style=&#34;color:#e6db74&#34;&gt;local&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;hit_id&lt;/span&gt; = &lt;span style=&#34;color:#e6db74&#34;&gt;pid[id]&lt;/span&gt;
				&lt;span style=&#34;color:#e6db74&#34;&gt;ngx.say(&amp;#34;用户ID:&amp;#34;..userId..&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;命中了:&amp;#34;..hit_id)&lt;/span&gt;
			&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
        &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
    </item>
    
    <item>
      <title>How to Customize Load Balancing Logic Based on Openresty</title>
      <link>https://ltan.me/post/2021/05/how-to-customize-load-balancing-logic-based-on-openresty/</link>
      <pubDate>Wed, 19 May 2021 17:37:04 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/how-to-customize-load-balancing-logic-based-on-openresty/</guid>
      <description>基于openresty 自定义tcp 请求流量转发到不同消息处理服务器 有个消息推荐项目，netty 框架技术架构，客户端采用netty client 封装的私有tcp 协议 请求消息服务器。需要一套tcp 分流处理网关来分发请</description>
      <content>&lt;h1 id=&#34;基于openresty-自定义tcp-请求流量转发到不同消息处理服务器&#34;&gt;基于openresty 自定义tcp 请求流量转发到不同消息处理服务器&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;有个消息推荐项目，netty 框架技术架构，客户端采用netty client 封装的私有tcp 协议 请求消息服务器。需要一套tcp 分流处理网关来分发请求流量到不同的tcp 消息处理器，现采用openresty 基本可以满足，主要是是用到openresy  balancer&lt;/p&gt;
&lt;p&gt;[]: &lt;a href=&#34;https://github.com/openresty/lua-resty-balancer#name&#34;&gt;https://github.com/openresty/lua-resty-balancer#name&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;模块技术实现，具体请参考官方文档说明&lt;/p&gt;
&lt;p&gt;主要思路是 利用 lua 语言 lpack 模块 对私有协议头 协议主体进行解析，解析得到设备id 取模得到一台上游消息处理服务器upstream server 节点， 然后通过balancer 模块更新上游处理服务器转发流量。&lt;/p&gt;
&lt;p&gt;也可以利用openresty 自带balancer 模块来完成实现，应用核心代码如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-lua&#34; data-lang=&#34;lua&#34;&gt;stream {
  lua_code_cache off; &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;关闭代码缓存，利于调用，生产环境不建议&lt;/span&gt;
  init_by_lua_block {  &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;当&lt;/span&gt;nginx &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;启动时，初始化时，从&lt;/span&gt;redis加载配置&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，或者从&lt;/span&gt;etcd &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;加载配置&lt;/span&gt;,&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;该数据可以做一个后台管理，运维人员直接后台操作&lt;/span&gt;
    require(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ngx.balancer&amp;#39;&lt;/span&gt;)
    _G.BACKENDS &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {
      {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;172.17.0.1&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;}, &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;消息&lt;/span&gt;netty服务器c2s&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
      {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;172.17.0.2&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;}, &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;消息&lt;/span&gt;netty服务器c2s&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
      {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;172.17.0.3&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;}, &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;消息&lt;/span&gt;netty服务器c2s&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
    }
  }
  
  &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;配置&lt;/span&gt;lua请求拦截器 upstream
  upstream lua_dispatcher {
    server &lt;span style=&#34;color:#ae81ff&#34;&gt;0.0.0.1&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;;
    balancer_by_lua_block {
      &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; balancer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; require(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ngx.balancer&amp;#39;&lt;/span&gt;)
      &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; backend_index
      &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; hash &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ngx.crc32_long(ngx.ctx.devid);
      backend_index &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (hash &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; backend_table &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; _G.BACKENDS[backend_index]
      &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;通过激活&lt;/span&gt;id算出一个hash值 &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;取个模后，得到服务器下标&lt;/span&gt;index &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;然后更新&lt;/span&gt;balancer &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;即可流量负载过去&lt;/span&gt;
      &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; ok, err &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; balancer.set_current_peer(table.unpack(backend_table))
      &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; ok &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
          ngx.log(ngx.ERR, err)
          ngx.exit(ngx.ERROR)
      &lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;
    }
  }
  
   &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;配置代码&lt;/span&gt; proxy
  server {
    listen &lt;span style=&#34;color:#ae81ff&#34;&gt;9000&lt;/span&gt;;
    proxy_pass lua_dispatcher;
    preread_by_lua_block {
        require(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pack&amp;#34;&lt;/span&gt;)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; mypack    &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; string.pack
        &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; myunpack    &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; string.unpack
        &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; sock &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ngx.req.socket(&lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; sock &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
            ngx.say(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;got the request socket&amp;#34;&lt;/span&gt;)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
            ngx.say(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;failed to get the request socket: &amp;#34;&lt;/span&gt;, err)
            &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;先尝试读取固定头&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;个字节&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; data, err &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sock:receive(&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)
            &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;如果遇到&lt;/span&gt;timeout,&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;或者&lt;/span&gt;close的情况&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，则&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;本次循环读取，继续下一条读取&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; err&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;timeout&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;or&lt;/span&gt; err &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;close&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;按消息推送私有协议读取返回的参数，&lt;/span&gt;type1为消息类型&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;ver2为消息推送私有协议版本号&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;time待命时间&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;len4为消息体的长度&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，不包含头的长度&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; succ,succLen,type1,Ver2,Time3,Len4 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; pcall(myunpack,data,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;gt;ccHH&amp;#34;&lt;/span&gt;)
            &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;读取剩余的消息体长度内容&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;local&lt;/span&gt; body, err &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sock:receive(Len4)
            &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;如果读取&lt;/span&gt;body为空&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，则退出&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; body &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;nil&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;#&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;打印&lt;/span&gt;body消息内容 &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;解析&lt;/span&gt;body是一个json串&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，需要对&lt;/span&gt;json进行解码&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，再赋值给&lt;/span&gt;ngx.ctx &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;全局上下文中共享变量&lt;/span&gt;
            ngx.ctx.device_id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; body[devid]
            ngx.log(ngx.ERR, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;------bdy &amp;#34;&lt;/span&gt;, body)
        &lt;span style=&#34;color:#66d9ef&#34;&gt;end&lt;/span&gt;
  
    }
  }
  
    
  
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如下图，左边是设备，中间是tcp 流量转发器，  右 边是消息处理服务器，  设备需要和消息处理服务器 建立tcp长链接，并维持不间断时间心跳，总之采用openresty 来完现流量分发具有强性能，只需要在原来的netty消息层外层加个流量处理网关即可。&lt;/p&gt;
&lt;p&gt;但我们在实际环境不推荐这样做，除非小项目，大项目还是推荐apisix 网关来处理很方便&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;image-20210519191548391.png&#34; alt=&#34;image-20210519191548391&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Posts</title>
      <link>https://ltan.me/tags/</link>
      <pubDate>Fri, 14 May 2021 10:48:01 +0800</pubDate>
      
      <guid>https://ltan.me/tags/</guid>
      <description></description>
      <content></content>
    </item>
    
    <item>
      <title>How to Run Spring Boot Program on Windows Server</title>
      <link>https://ltan.me/post/2021/05/how-to-run-spring-boot-program-on-windows-server/</link>
      <pubDate>Thu, 13 May 2021 16:22:51 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/how-to-run-spring-boot-program-on-windows-server/</guid>
      <description>spring boot程序如何正确运行在Windows服务器上面 一次项目开发中，要求服务器是windows环境，一般我们都是用java sprint boot 开发的程序运行在linux 环境中，通过supervisor程序来守护，设置</description>
      <content>&lt;h1 id=&#34;spring-boot程序如何正确运行在windows服务器上面&#34;&gt;spring boot程序如何正确运行在Windows服务器上面&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;一次项目开发中，要求服务器是windows环境，一般我们都是用java sprint boot 开发的程序运行在linux 环境中，通过supervisor程序来守护，设置开机启动之类的操作命令， 很少有人用windows server, 这次机会遇到这个问题需要解决，好在记的我在几年前用过java service wapper（简称jsw）这个程序 ，对jsw 有一些了解,于是找一相当资料看一下&lt;/p&gt;
&lt;p&gt;官网资料介绍在这里：https://wrapper.tanukisoftware.com/doc/english/launch-win.html&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我在这里简单介绍一下jsw，通过官网介绍，我了解到。&lt;/p&gt;
&lt;p&gt;他可以替代supervisor 做程序守护，开机启动等相关设置，如果是需要把jar包跑在windows 服务器当中。我需要通过sc 命令来注册服务指令&lt;/p&gt;
&lt;p&gt;目前我暂时用到服务守护，和服务注册，等特点，其他特性还没有研究。以下是记录一下我在spring boot 项目中如何使用它来打包成 jsw 服务。&lt;/p&gt;
&lt;p&gt;​    首先看一下我的项目结构图&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210513163512015.png&#34; alt=&#34;image-20210513163512015&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;需要在pom.xml 加入maven 打外插件，
插件名为：maven-assembly-plugin&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;   &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;finalName&amp;gt;&lt;/span&gt;upgrade-admin&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/finalName&amp;gt;&lt;/span&gt; 
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-maven-plugin&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;executable&amp;gt;&lt;/span&gt;true&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/executable&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;

            &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!--主要是以下插件配置--&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-assembly-plugin&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.0.0&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;descriptors&amp;gt;&lt;/span&gt;
                        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!--通过service-assembly.xml 描述该项目打包的配置信息--&amp;gt;&lt;/span&gt;
                        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;descriptor&amp;gt;&lt;/span&gt;${project.basedir}/src/assembly/service-assembly.xml&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/descriptor&amp;gt;&lt;/span&gt;
                    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/descriptors&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
                    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
                        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;service-assembly&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
                        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;package&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
                        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;single&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
                        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
                    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;

        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;配置服务jsw 打包描述信息&lt;/p&gt;
&lt;p&gt;以下是打包配置文件信息：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;service&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;bamboo-upgrade-service&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Bamboo Upgrade Service&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Bamboo Upgrade Windows service&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;executable&amp;gt;&lt;/span&gt;java&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/executable&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;arguments&amp;gt;&lt;/span&gt;-jar upgrade-admin.jar&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/arguments&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;id: windows 服务id,要是唯一的，在windows 服务注册表里是唯一的

name: 服务名称

description：  服务描述

executable ： 执行bin 名称
arguments： 执行参数
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210513163836081.png&#34; alt=&#34;image-20210513163836081&#34;&gt;&lt;/p&gt;
&lt;p&gt;​      service-assembly.xml 文件  这是打包核心配置核心文件&lt;/p&gt;
&lt;p&gt;​     主是用于告诉maven 需要打包的文件在哪 里，如何打包，打成什么格式的包&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;assembly&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;xmlns=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://maven.apache.org/ASSEMBLY/2.0.0&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;xmlns:xsi=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span&gt;
          &lt;span style=&#34;color:#a6e22e&#34;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;service&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;formats&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;format&amp;gt;&lt;/span&gt;zip&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/format&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/formats&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;fileSets&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Copy in the application JAR --&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;fileSet&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;directory&amp;gt;&lt;/span&gt;${project.build.directory}&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;outputDirectory&amp;gt;&lt;/span&gt;/&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/outputDirectory&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;includes&amp;gt;&lt;/span&gt;
                &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;include&amp;gt;&lt;/span&gt;${project.build.finalName}.jar&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/include&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/includes&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/fileSet&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Copy in the resources including the wrapper exe and config --&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;fileSet&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;directory&amp;gt;&lt;/span&gt;${project.basedir}/src/assembly/resources&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
            &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;outputDirectory&amp;gt;&lt;/span&gt;/&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/outputDirectory&amp;gt;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/fileSet&amp;gt;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/fileSets&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;/assembly&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;该文件的目录位置如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210513164413150.png&#34; alt=&#34;image-20210513164413150&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;执行打包 mvn package 命令
&lt;img src=&#34;./image-20210513164650797.png&#34; alt=&#34;image-20210513164650797&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;部署程序，降upgrade-admin-service.zip包 复制到一个正式的目录下解压后下图就是解压后zip后的效果
&lt;img src=&#34;./image-20210513164952742.png&#34; alt=&#34;image-20210513164952742&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;先安装windows 服务指令，上图install.bat是我之前写好的，该文件就是用来install Windows 服务脚本
install.bat&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;@echo off
bamboo-upgrade-service-wrapper install
echo 安装bamboo服务完成
pause
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编写启动服务，新建startup.bat文件&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;@echo off
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; /f &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;skip=3 tokens=4&amp;#34;&lt;/span&gt; %&lt;span style=&#34;color:#66d9ef&#34;&gt;%&lt;/span&gt;i &lt;span style=&#34;color:#66d9ef&#34;&gt;in&lt;/span&gt; (&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;sc query bamboo-upgrade-service&amp;#39;&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; set &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;zt=%%i&amp;#34;&lt;/span&gt; &amp;amp;goto &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt;next
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;:&lt;/span&gt;next
&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; /i &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%zt%&amp;#34;&lt;/span&gt;==&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;RUNNING&amp;#34;&lt;/span&gt; (
echo 已经发现该服务在运行
) &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; (
   net start bamboo-upgrade-service
   echo 该服务现己启动&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;，&lt;/span&gt;请等20秒中....
)
pause
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;停止服务 ，新建stop.bat文件&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;  ```powershell
  @echo off
  for /f &amp;quot;skip=3 tokens=4&amp;quot; %%i in (&#39;sc query bamboo-upgrade-service&#39;) do set &amp;quot;zt=%%i&amp;quot; &amp;amp;goto :next
  :next
  if /i &amp;quot;%zt%&amp;quot;==&amp;quot;RUNNING&amp;quot; (
     net stop bamboo-upgrade-service
     echo 该服务现己关闭，请等20秒中....
  ) else (
  
  )
  pause
  ```
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;
&lt;p&gt;卸载服务, 新建uninstall.bat 文件&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;@echo off
bamboo-upgrade-service-wrapper uninstall
echo 卸载bamboo服务完成
pause
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查看windows运行效果&lt;/p&gt;
&lt;p&gt;按win+R 快捷键，输入&lt;em&gt;services.msc&lt;/em&gt;  命令，回车，&lt;/p&gt;
&lt;p&gt;设置开机启动该服务都可以在windows 这边设置&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210513165843939.png&#34; alt=&#34;image-20210513165843939&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
    </item>
    
    <item>
      <title>How to Do Not Release Resources After Uploading the Zip Package in Java</title>
      <link>https://ltan.me/post/2021/05/how-to-do-not-release-resources-after-uploading-the-zip-package-in-java/</link>
      <pubDate>Wed, 12 May 2021 19:36:48 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/how-to-do-not-release-resources-after-uploading-the-zip-package-in-java/</guid>
      <description>在windows系统中检验一个上传文件程序是否有bug另一种姿势 某一天在公司对一个文件上传项目进行bug修改，不料查到另一个bug 也顺带解决，在此记录一下解决过程 在windows系统调试一个文件上传程</description>
      <content>&lt;h1 id=&#34;在windows系统中检验一个上传文件程序是否有bug另一种姿势&#34;&gt;在windows系统中检验一个上传文件程序是否有bug另一种姿势&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;某一天在公司对一个文件上传项目进行bug修改，不料查到另一个bug 也顺带解决，在此记录一下解决过程&lt;/p&gt;
&lt;p&gt;在windows系统调试一个文件上传程序，手贱想重新删除原文件，重新上传，结果这一删除发现windows 弹窗，报窗&lt;/p&gt;
&lt;p&gt;&lt;em&gt;文件正常使用&lt;/em&gt;    错误提示。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这个程序需求就是把一个zip包上传到ftp当中，流程是先上传到服务器本地，然后同步到ftp当中&lt;/p&gt;
&lt;p&gt;在windows 调试过程重新删除了己上传的文件，但发现不能删除的，这个问题也找了很久。&lt;/p&gt;
&lt;p&gt;于是就重新梳理一下上传的流程。&lt;/p&gt;
&lt;p&gt;发现以下问题&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512194748766.png&#34; alt=&#34;image-20210512194748766&#34;&gt;&lt;/p&gt;
&lt;p&gt;来调试代码&lt;/p&gt;
&lt;p&gt;下面这段代码，上传zip后先保存到本地&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512194834905.png&#34; alt=&#34;image-20210512194834905&#34;&gt;&lt;/p&gt;
&lt;p&gt;接下来是解压zip&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512194951003.png&#34; alt=&#34;image-20210512194951003&#34;&gt;&lt;/p&gt;
&lt;p&gt;最后增加zipFile.close() 解决，增加in.close() 解决&lt;/p&gt;
&lt;p&gt;问题总结：&lt;/p&gt;
&lt;p&gt;​    论代码review 重要性，前期需要多多测试。&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>A Bug That Displays Abnormally After Uploading an Image</title>
      <link>https://ltan.me/post/2021/05/a-bug-that-displays-abnormally-after-uploading-an-image/</link>
      <pubDate>Wed, 12 May 2021 19:11:15 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/a-bug-that-displays-abnormally-after-uploading-an-image/</guid>
      <description>记一次解决图片上传后在浏览器不能正常显示的问题 原来这个项目是比较老，采用的是spirng mvc +ftp 技术搭建的上传功能，通过把一个静态资源h5页，打包成一个zip上传到后台 后台再对其zip包进行解压上传到cd</description>
      <content>&lt;h1 id=&#34;记一次解决图片上传后在浏览器不能正常显示的问题&#34;&gt;记一次解决图片上传后在浏览器不能正常显示的问题&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;原来这个项目是比较老，采用的是spirng mvc +ftp 技术搭建的上传功能，通过把一个静态资源h5页，打包成一个zip上传到后台&lt;/p&gt;
&lt;p&gt;后台再对其zip包进行解压上传到cdn服务器，以域名访问该静态资源页面，其静态资源包含html,js, jpg。 然后设计师大部分以图片形式排版，组成的html5 幻灯显示页面，难后在上传过程有偶发性的遇到图片打不开，显示不正常等问题，bug是随机复现。于是找了很久才找到这个问题根源，下面对其记录一下&lt;/p&gt;
&lt;p&gt;问题主要原因：从本地上传到ftp服务器传输读写编码不一至导致的，对于二进制图片，应采用二进制上传，开启ftp被动模式,编码为ASCII，&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;对于文本文件如css,txt,js文件应采用utf8或者ascii都可以，关键是在文件读写时需要保持编码前后一致即可&lt;/p&gt;
&lt;p&gt;意思就是在本地解压zip后，需要把zip包静态资源按照 目录格式同步 ftp 服务器当中，关键是文件在上传前后读写需要保持编码一至就不会出现这个问题&lt;/p&gt;
&lt;p&gt;下面开始详细分析调式&lt;/p&gt;
&lt;p&gt;当设置uft8编码上传图片文件后，每个文件上传后会少很多的字节内容&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512192524181.png&#34; alt=&#34;image-20210512192524181&#34;&gt;&lt;/p&gt;
&lt;p&gt;该图片文件默认在上传前编码格式为 ANSI&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512192650863.png&#34; alt=&#34;image-20210512192650863&#34;&gt;&lt;/p&gt;
&lt;p&gt;然后从同步到ftp 服务器后，下载到本地打开发现，编码变成了GB2312 格式的&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512192804222.png&#34; alt=&#34;image-20210512192804222&#34;&gt;&lt;/p&gt;
&lt;p&gt;当然变成GB2312编码上传后的图片文件，文件md5值是一样的，浏览器不能正常显示图片文件，因为图片文件被编码破坏了&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512192847433.png&#34; alt=&#34;image-20210512192847433&#34;&gt;&lt;/p&gt;
&lt;p&gt;原老项目采用apache commons net 包下的ftp client，不知道为什么设置了编码也没有解决问题，说是同步到ftp工具用apache camel 组件代替 apache commons net 的ftp  client,  替换之前尝试把编码设置成uft-8,果然很容易复现问题&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210512193353856.png&#34; alt=&#34;image-20210512193353856&#34;&gt;&lt;/p&gt;
&lt;p&gt;最终用apache camel 代替了 ftpclient 解决ftp 同步图片后偶发性打不开的问题&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Reverse Proxy to Websocket Service Set Based on Apisix2</title>
      <link>https://ltan.me/post/2021/05/reverse-proxy-to-websocket-service-set-based-on-apisix2.4-gateway/</link>
      <pubDate>Tue, 11 May 2021 15:39:09 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/reverse-proxy-to-websocket-service-set-based-on-apisix2.4-gateway/</guid>
      <description>基于apisix2.4网关反向代理到websocket服务集节点 问题背景，主要是解决远程控制通信服务端单点问题，借助openresty强劲的性能，可定制化的负载均衡设计特点 apisix就是基于open</description>
      <content>&lt;h1 id=&#34;基于apisix24网关反向代理到websocket服务集节点&#34;&gt;基于apisix2.4网关反向代理到websocket服务集节点&lt;/h1&gt;
&lt;p&gt;问题背景，主要是解决远程控制通信服务端单点问题，借助openresty强劲的性能，可定制化的负载均衡设计特点&lt;/p&gt;
&lt;p&gt;apisix就是基于openresty开发分布式网关集群平台，优势现阶段轻量，易维护等&lt;/p&gt;
&lt;p&gt;本为搭建环境，模拟集群环境，在我windows 电脑 采用docker 模拟&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;整体的环境说明：如下图&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210511150518389.png&#34; alt=&#34;image-20210511150518389&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 搭建环境&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;docker pull django
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 运行python 容器&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;docker run -itd --name py3 -v /i:/i -v /d:/d django /bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 进入容器，检查容器环境是否正常&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shel&#34; data-lang=&#34;shel&#34;&gt;docker exec -it  c5d2369adde2 /bin/bash

docker exec -it 58e1c95fea73 /bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;./image-20210511150600898.png&#34; alt=&#34;image-20210511150600898&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 安装websocket&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt; pip install websocket 

 pip install stomp.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 启动后端 java websocket 环境&lt;/p&gt;
&lt;p&gt;进入java 容器，设置同一个网络环境，同一个网段&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-she&#34; data-lang=&#34;she&#34;&gt;    docker run --name s1 --network app-tier -d -v /i:/i -v /d:/d -p 8081:8080 ltjsj/super-dev-env:v1.1 

​      docker exec -it s1 /bin/bash

​      java -jar /i/path/to/websocket.jar 

​       docker inspect s1 | findstr IPAddress # 查看容器ip， 准备填入apisix 节点 
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 配置apisix&lt;/p&gt;
&lt;p&gt;路由代理，配置上游&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210511150841820.png&#34; alt=&#34;image-20210511150841820&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 编写python 脚本测试代码&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-pytho&#34; data-lang=&#34;pytho&#34;&gt;#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Time    : 2021/03/31 下午03:21
# @Author  : ltan.me

from stomp_ws import Stomp
import time

def do_thing_a(msg):
    print(&amp;quot;MESSAGE: &amp;quot; + msg)

if __name__ == &amp;quot;__main__&amp;quot;:

    for i in range(0,10):
        #为了模拟设备id,激活id,采用id为作为通信参数，生成10个id分别请求websocket服务器域名
        url = &amp;quot;test.xxxx.com/stompServer/websocket?id=%s&amp;amp;activeId=416&amp;amp;deviceId=3657dc0cfede992b97d2135fd0514c6c&amp;amp;userId=1&amp;amp;&amp;amp;connectType=0&amp;amp;token=9d3b7282d295eefe9e9b959f63134dee&amp;quot; % str(i)
        print(url)
        stomp = Stomp(url, sockjs=True, wss=False)
        stomp.connect()
        stomp.subscribe(&amp;quot;/user/1_416/command&amp;quot;, do_thing_a)
        time.sleep(2)
        stomp.send(&amp;quot;/web2client_term&amp;quot;, &#39;{&amp;quot;userId&amp;quot;:1,&amp;quot;activeId&amp;quot;:416,&amp;quot;cmdType&amp;quot;:18,&amp;quot;content&amp;quot;:&amp;quot;python-hahah&amp;quot;}&#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; 最终运行效果&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210511151138269.png&#34; alt=&#34;image-20210511151138269&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210511151206802.png&#34; alt=&#34;image-20210511151206802&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    </item>
    
    <item>
      <title>Lua Language Parsing Private Protocol Package</title>
      <link>https://ltan.me/post/2021/05/lua-language-parsing-private-protocol-package/</link>
      <pubDate>Sat, 08 May 2021 17:47:39 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/lua-language-parsing-private-protocol-package/</guid>
      <description>使用lua语言解析tcp私有协议包示例 为什么需要lua来解析tcp 私有协议包？ 因为lua语言生态内，有强大的openresty 技术可使用，而openresty可以提供强劲的web 并发性能，能提供tcp</description>
      <content>&lt;h1 id=&#34;使用lua语言解析tcp私有协议包示例&#34;&gt;使用lua语言解析tcp私有协议包示例&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;为什么需要lua来解析tcp 私有协议包？&lt;/p&gt;
&lt;p&gt;因为lua语言生态内，有强大的openresty 技术可使用，而openresty可以提供强劲的web 并发性能，能提供tcp 长链接通道 技术&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;首先需要lapck包对其解析&#34;&gt;首先需要lapck包对其解析&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git clone  https://github.com/Kong/lua-pack 
或
git clone https://github.com/lilien1010/lpack
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;安装lapck包需要编译&#34;&gt;安装lapck包需要编译&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210508175332849.png&#34; alt=&#34;image-20210508175332849&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;--编译时找不到luah头文件需要增加以下参数其目的是让编译是找到luajit-luah头文件--&#34;&gt;&lt;!-- raw HTML omitted --&gt;&lt;/h1&gt;
&lt;p&gt;在编译时遇到 lua.h No such file or directory #include &amp;quot; lua.h&amp;quot; ？ 问题时，需要遇增加如下参数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-DLUA_INCLUDE_DIR=/usr/local/openresty/luajit/include/luajit-2.1/ 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;最终编译命令如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#DLUA_INCLUDE_DIR 表示lua.h 存放的位置 LUA_LIBRARY指定luajit库，so文件，
cmake ./  -DLUA_INCLUDE_DIR=/usr/local/openresty/luajit/include/luajit-2.1/  -DLUA_LIBRARY=/usr/local/lib/libluajit-5.1.so
make  #编译成so文件，得到pack.so
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;详细解析tcp私有代码如下&#34;&gt;详细解析tcp私有代码如下&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;require(&amp;quot;pack&amp;quot;)
local mypack    = string.pack
local myunpack    = string.unpack
local sock = ngx.req.socket(true)
if sock then
    ngx.say(&amp;quot;got the request socket&amp;quot;)
else
    ngx.say(&amp;quot;failed to get the request socket: &amp;quot;, err)
    return
end
while true do
    --先尝试读取固定头 6个字节
    local data, err = sock:receive(6)
    --如果遇到timeout,或者close的情况，则break 本次循环读取，继续下一条读取
    if err==&#39;timeout&#39; or err ==&#39;close&#39; then
        break
    end
    --按pmtp协议读取返回的参数，type1为消息类型，ver2为pmtp协议版本号，time待命时间，len4为消息体的长度，不包含头的长度
    --默认字节顺序为 大端，&amp;gt;ccHH
    local succ,succLen,type1,Ver2,Time3,Len4 = pcall(myunpack,data,&amp;quot;&amp;gt;ccHH&amp;quot;)
    --读取剩余的消息体长度内容
    local body, err = sock:receive(Len4)
    --如果读取body为空，则退出
    if body == nil then
        break
    end
    --打印body消息内容
    ngx.log(ngx.ERR, &amp;quot;------bdy &amp;quot;, body)
end
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;通过客户端链接后发送tcp私有协议包的一模拟效果&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210508175828796.png&#34; alt=&#34;image-20210508175828796&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>About</title>
      <link>https://ltan.me/about/</link>
      <pubDate>Sat, 08 May 2021 16:40:17 +0800</pubDate>
      
      <guid>https://ltan.me/about/</guid>
      <description>专注于 Java, Golang, lua 专注于 docker 分享 centos/ linux windows 相关技术 php, python, web前端 NAS 使用经验分享 生活和工作在湾区的码农一枚，专注全栈应用APP开发，技术擅长PHP/JAVA/GOLANG/LUA和Unix/Linux/Window</description>
      <content>&lt;p&gt;专注于 Java, Golang, lua&lt;/p&gt;
&lt;p&gt;专注于 docker&lt;/p&gt;
&lt;p&gt;分享 centos/ linux windows 相关技术&lt;/p&gt;
&lt;p&gt;php, python, web前端&lt;/p&gt;
&lt;p&gt;NAS 使用经验分享&lt;/p&gt;
&lt;p&gt;生活和工作在湾区的码农一枚，专注全栈应用APP开发，技术擅长PHP/JAVA/GOLANG/LUA和Unix/Linux/Windows。做过大型门户网站，做过企业中台管理，做过企业DMP系统，规则引擎等大型项目。&lt;/p&gt;
&lt;h2 id=&#34;关于此博客&#34;&gt;关于此博客&lt;/h2&gt;
&lt;p&gt;博客主要用于记录生活，工作中遇到的问题，及解决方法和心得&lt;/p&gt;
&lt;p&gt;此博客基于 &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; 构建&lt;/p&gt;
&lt;p&gt;当前主题 &lt;a href=&#34;https://github.com/ttys3/hugo-theme-terminal/tree/ttys3&#34;&gt;terminal&lt;/a&gt; 修改自 &lt;a href=&#34;https://github.com/panr/hugo-theme-terminal&#34;&gt;panr/hugo-theme-terminal&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;链接收藏&#34;&gt;链接收藏&lt;/h1&gt;
&lt;p&gt;灰狐(&lt;a href=&#34;https://www.huihoo.com/&#34;&gt;https://www.huihoo.com/&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://zeef.com/&#34;&gt;https://zeef.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;图书类&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://it-ebooks.info/&#34;&gt;http://it-ebooks.info/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.foxebook.net/&#34;&gt;http://www.foxebook.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://bestcbooks.com/&#34;&gt;http://bestcbooks.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://avxhm.se/&#34;&gt;https://avxhm.se/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;计算机电子书(&lt;a href=&#34;http://it-ebooks.flygon.net/&#34;&gt;http://it-ebooks.flygon.net/&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;免费的计算机编程类中文书籍(&lt;a href=&#34;https://github.com/justjavac/free-programming-books-zh_CN&#34;&gt;https://github.com/justjavac/free-programming-books-zh_CN&lt;/a&gt;)。&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Solve the Problem of Maven Packaging Static Resource Coding</title>
      <link>https://ltan.me/post/2021/05/solve-the-problem-of-maven-packaging-static-resource-coding/</link>
      <pubDate>Sat, 08 May 2021 16:39:39 +0800</pubDate>
      
      <guid>https://ltan.me/post/2021/05/solve-the-problem-of-maven-packaging-static-resource-coding/</guid>
      <description>解决maven生成jar包时字体不能正常显示 由于前端人手不够，今天做了一个小项目，这个项目是用spring boot + layui 构建的后台管理系统。就没有用到前后端分离的方式去开发 项目做完后在打包时运行时发现浏览器显</description>
      <content>&lt;h1 id=&#34;解决maven生成jar包时字体不能正常显示&#34;&gt;解决maven生成jar包时字体不能正常显示&lt;/h1&gt;
&lt;p&gt;由于前端人手不够，今天做了一个小项目，这个项目是用spring boot  + layui 构建的后台管理系统。就没有用到前后端分离的方式去开发&lt;/p&gt;
&lt;p&gt;项目做完后在打包时运行时发现浏览器显示字体损坏，导致网站icon图标不能正常显示&lt;/p&gt;
&lt;h2 id=&#34;解决方法&#34;&gt;解决方法：&lt;/h2&gt;
&lt;p&gt;在pom.xml 里找到build 区块用下面代码替换它&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    &amp;lt;build&amp;gt;
        &amp;lt;finalName&amp;gt;ivy-admin&amp;lt;/finalName&amp;gt;
        &amp;lt;resources&amp;gt;
            &amp;lt;resource&amp;gt;
                &amp;lt;directory&amp;gt;src/main/resources&amp;lt;/directory&amp;gt;
                &amp;lt;filtering&amp;gt;true&amp;lt;/filtering&amp;gt;
                &amp;lt;excludes&amp;gt;
                    &amp;lt;exclude&amp;gt;static/layui/font/**&amp;lt;/exclude&amp;gt;
                    &amp;lt;exclude&amp;gt;static/admin/font/**&amp;lt;/exclude&amp;gt;
                    &amp;lt;exclude&amp;gt;static/admin/fonts/**&amp;lt;/exclude&amp;gt;
                &amp;lt;/excludes&amp;gt;
            &amp;lt;/resource&amp;gt;
            &amp;lt;resource&amp;gt;
                &amp;lt;directory&amp;gt;src/main/resources&amp;lt;/directory&amp;gt;
                &amp;lt;filtering&amp;gt;false&amp;lt;/filtering&amp;gt;
                &amp;lt;includes&amp;gt;
                    &amp;lt;include&amp;gt;static/layui/font/**&amp;lt;/include&amp;gt;
                    &amp;lt;include&amp;gt;static/admin/font/**&amp;lt;/include&amp;gt;
                    &amp;lt;include&amp;gt;static/admin/fonts/**&amp;lt;/include&amp;gt;
                &amp;lt;/includes&amp;gt;
            &amp;lt;/resource&amp;gt;
        &amp;lt;/resources&amp;gt;
        &amp;lt;plugins&amp;gt;
            &amp;lt;plugin&amp;gt;
                &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
                &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt;
                &amp;lt;configuration&amp;gt;
                    &amp;lt;executable&amp;gt;true&amp;lt;/executable&amp;gt;
                &amp;lt;/configuration&amp;gt;
            &amp;lt;/plugin&amp;gt;
        &amp;lt;/plugins&amp;gt;
    &amp;lt;/build&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;问题原因&#34;&gt;问题原因:&lt;/h2&gt;
&lt;p&gt;经过发现在不加上面打包代码时，不排除font 字体目录时，发现maven在打包复制时，对其font字体文件编译，导致文件被改写，编码和原来的字体文件不一样，导致打包前，打包前文件md5不一样，font 字体损坏，最终浏览器显示字体损坏&lt;/p&gt;
&lt;p&gt;打包后可以对比一下字体md5文件，就知道mvn在编译打包时，损坏了font&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;./image-20210508170557174.png&#34; alt=&#34;image-20210508170557174&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
  </channel>
</rss>
